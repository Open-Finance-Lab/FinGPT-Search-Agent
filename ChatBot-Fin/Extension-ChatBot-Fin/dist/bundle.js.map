{"version":3,"file":"bundle.js","mappings":";mBAwEA,SAASA,EAAYC,EAAUC,GAC3B,IAAMC,EAAaC,OAAOC,SAASC,KAEnC,OAAOC,MAAM,gDAADC,OACwCC,mBAAmBR,GAAS,YAAAO,OAAWC,mBAAmBP,GAAO,iBAAAM,OAAgBC,mBAAmBN,IACpJ,CAAEO,OAAQ,QAETC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAG,GAIF,MAHoB,YAAhBA,EAAKC,QACLC,QAAQC,MAAM,0BAEXH,CACX,IAAE,OACK,SAAAG,GAEH,MADAD,QAAQC,MAAM,0BAA2BA,GACnCA,CACV,GACR,CCvFA,IAAMC,EAAkB,CAAC,aAAc,SAAU,qBAG7CC,EAAgB,aAEpB,SAASC,IACL,OAAOD,CACX,CCHA,SAASE,EAAmBpB,GAA8B,IAApBqB,EAAUC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACtCG,EAAYC,YAAYC,MACxBC,EAAoBC,SAASC,eAAe,WAGlDC,EAAkBH,EAAmB,gBAAiB5B,GAGtD,IAAMgC,EAAiBD,EACnBH,EACA,iBAAgB,sBAKdK,EAASJ,SAASC,eAAe,aAAaI,QAE9ChB,EAAgBC,KFO1B,SAAyBnB,EAAUkB,EAAeG,EAAYY,GAC1D,IAAME,EAAkB3B,mBAAmBR,GAG3C,OAAOM,MAAM,yBAADC,OAFKc,EAAa,mBAAqB,oBAGd,eAAAd,OAAc4B,EAAe,YAAA5B,OAAWW,EAAa,iBAAAX,OAAgBc,EAAU,aAAAd,OAAY0B,GAC5H,CAAExB,OAAQ,QAETC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAAC,OAC3B,SAAAI,GAEH,MADAD,QAAQC,MAAM,iDAAkDA,GAC1DA,CACV,GACR,EElBIoB,CAAgBpC,EAAUkB,EAAeG,EAAYY,GAChDvB,MAAK,SAAAG,GACF,IACMwB,EADUX,YAAYC,MACGF,EAC/BV,QAAQuB,IAAI,4BAAD/B,OAA6B8B,EAAY,QAGpD,IAAME,EAAgB1B,EAAK2B,KAAKtB,GAE3BqB,EAGMA,EAAcE,WAAW,qCAChCT,EAAeU,UAAY,mBAAHnC,OAAsBgC,GAE9CP,EAAeU,UAAY,WAAHnC,OAAcgC,GAJtCP,EAAeU,UAAY,oCAQ/Bb,SAASC,eAAe,WAAWa,MAAQ,GAC3Cf,EAAkBgB,UAAYhB,EAAkBiB,YACpD,IAAE,OACK,SAAA7B,GACHD,QAAQC,MAAM,iDAAkDA,GAChEgB,EAAeU,UAAY,kCAC/B,GACR,CC/CA,SAASX,EAAkBe,EAAQC,EAAWC,GAC1C,IAAMC,EAAUpB,SAASqB,cAAc,QAIvC,OAHAD,EAAQF,UAAYA,EACpBE,EAAQP,UAAYM,EACpBF,EAAOK,YAAYF,GACZA,CACX,CAGA,SAASG,IACL,IAAMzC,EAAWkB,SAASC,eAAe,WACnCuB,EAAaxB,SAASC,eAAe,eAE3CnB,EAAS2C,UAAY,GACjBD,IACAA,EAAWC,UAAY,IH4BpBhD,MAAM,wCAAyC,CAAEG,OAAQ,SAC3DC,MAAK,SAAAC,GACF,IAAKA,EAAS4C,GACV,MAAM,IAAIC,MAAM,+BAEpB,OAAO7C,EAASC,MACpB,IAAE,OACK,SAAAI,GAEH,MADAD,QAAQC,MAAM,iDAAkDA,GAC1DA,CACV,IGlCCN,MAAK,SAAAG,GACFE,QAAQuB,IAAIzB,EAChB,IAAE,OACK,SAAAG,GACHD,QAAQC,MAAM,yCAA0CA,EAC5D,GACR,CAGA,SAASyC,IACL,IAAMzD,EAAW6B,SAASC,eAAe,WAAWa,MAEhD3C,GACAoB,EAAmBpB,GAAU,GAC7BD,EAAYC,EAAU,OACtB6B,SAASC,eAAe,WAAWa,MAAQ,IAE3Ce,MAAM,2BAEd,CAGA,SAASC,IACL,IAAM3D,EAAW6B,SAASC,eAAe,WAAWa,MAAMiB,OAEzC,KAAb5D,GAMJoB,EAAmBpB,GAAU,GAC7BD,EAAYC,EAAU,gBAEtB6B,SAASC,eAAe,WAAWa,MAAQ,IARvCe,MAAM,0BASd,CAiEA,SAASG,IACL,IAAMC,EAAgBjC,SAASqB,cAAc,OAqB7C,OApBAY,EAAcC,GAAK,kBACnBD,EAAcpB,UAAY,IAC1BoB,EAAcE,QAAU,WACpB,IHpCiBC,EGoCXC,EAAUC,OAAO,8BACnBD,IHrCaD,EGsCGC,EHrCjB5D,MAAM,+CAAgD,CACzDG,OAAQ,OACR2D,QAAS,CACL,eAAgB,qCAEpBC,KAAM,OAAF9D,OAASC,mBAAmByD,MAE/BvD,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAAC,OAC3B,SAAAI,GAEH,MADAD,QAAQC,MAAM,+BAAgCA,GACxCA,CACV,KG2BSN,MAAK,SAAAG,GACF,GAAoB,YAAhBA,EAAKC,OAAsB,CAC3B,IAAMwD,EAAwBzC,SAASC,eAAe,2BAChDyC,EAAc1C,SAASqB,cAAc,OAC3CqB,EAAYxB,UAAY,sBACxBwB,EAAY7B,UAAYwB,EACxBI,EAAsBE,aAAaD,EAAaT,EACpD,MACIJ,MAAM,6BAEd,IAAE,OACK,SAAA1C,GAAK,OAAID,QAAQC,MAAM,+BAAgCA,EAAM,GAEhF,EACO8C,CACX,oPClJAW,EAAA,kBAAAC,CAAA,MAAAC,EAAAD,EAAA,GAAAE,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAK,gBAAA,SAAAP,EAAAD,EAAAE,GAAAD,EAAAD,GAAAE,EAAAjC,KAAA,EAAAwC,EAAA,mBAAAC,OAAAA,OAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAhB,EAAAD,EAAAE,GAAA,OAAAC,OAAAK,eAAAP,EAAAD,EAAA,CAAA/B,MAAAiC,EAAAgB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAnB,EAAAD,EAAA,KAAAiB,EAAA,aAAAhB,GAAAgB,EAAA,SAAAhB,EAAAD,EAAAE,GAAA,OAAAD,EAAAD,GAAAE,CAAA,WAAAmB,EAAApB,EAAAD,EAAAE,EAAAG,GAAA,IAAAI,EAAAT,GAAAA,EAAAI,qBAAAkB,EAAAtB,EAAAsB,EAAAX,EAAAR,OAAAoB,OAAAd,EAAAL,WAAAS,EAAA,IAAAW,EAAAnB,GAAA,WAAAE,EAAAI,EAAA,WAAA1C,MAAAwD,EAAAxB,EAAAC,EAAAW,KAAAF,CAAA,UAAAe,EAAAzB,EAAAD,EAAAE,GAAA,WAAAyB,KAAA,SAAAC,IAAA3B,EAAA4B,KAAA7B,EAAAE,GAAA,OAAAD,GAAA,OAAA0B,KAAA,QAAAC,IAAA3B,EAAA,EAAAD,EAAAqB,KAAAA,EAAA,IAAAS,EAAA,iBAAAC,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAZ,IAAA,UAAAa,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAApB,EAAAoB,EAAA1B,GAAA,8BAAA2B,EAAAnC,OAAAoC,eAAAC,EAAAF,GAAAA,EAAAA,EAAAG,EAAA,MAAAD,GAAAA,IAAAtC,GAAAG,EAAAwB,KAAAW,EAAA7B,KAAA0B,EAAAG,GAAA,IAAAE,EAAAN,EAAAhC,UAAAkB,EAAAlB,UAAAD,OAAAoB,OAAAc,GAAA,SAAAM,EAAA1C,GAAA,0BAAA2C,SAAA,SAAA5C,GAAAiB,EAAAhB,EAAAD,GAAA,SAAAC,GAAA,YAAA4C,QAAA7C,EAAAC,EAAA,gBAAA6C,EAAA7C,EAAAD,GAAA,SAAA+C,EAAA7C,EAAAK,EAAAE,EAAAE,GAAA,IAAAE,EAAAa,EAAAzB,EAAAC,GAAAD,EAAAM,GAAA,aAAAM,EAAAc,KAAA,KAAAZ,EAAAF,EAAAe,IAAAE,EAAAf,EAAA9C,MAAA,OAAA6D,GAAA,UAAAkB,EAAAlB,IAAAzB,EAAAwB,KAAAC,EAAA,WAAA9B,EAAAiD,QAAAnB,EAAAoB,SAAAlH,MAAA,SAAAiE,GAAA8C,EAAA,OAAA9C,EAAAQ,EAAAE,EAAA,aAAAV,GAAA8C,EAAA,QAAA9C,EAAAQ,EAAAE,EAAA,IAAAX,EAAAiD,QAAAnB,GAAA9F,MAAA,SAAAiE,GAAAc,EAAA9C,MAAAgC,EAAAQ,EAAAM,EAAA,aAAAd,GAAA,OAAA8C,EAAA,QAAA9C,EAAAQ,EAAAE,EAAA,IAAAA,EAAAE,EAAAe,IAAA,KAAA1B,EAAAK,EAAA,gBAAAtC,MAAA,SAAAgC,EAAAI,GAAA,SAAA8C,IAAA,WAAAnD,GAAA,SAAAA,EAAAE,GAAA6C,EAAA9C,EAAAI,EAAAL,EAAAE,EAAA,WAAAA,EAAAA,EAAAA,EAAAlE,KAAAmH,EAAAA,GAAAA,GAAA,aAAA1B,EAAAzB,EAAAE,EAAAG,GAAA,IAAAE,EAAAuB,EAAA,gBAAArB,EAAAE,GAAA,GAAAJ,IAAAyB,EAAA,MAAAlD,MAAA,mCAAAyB,IAAA0B,EAAA,cAAAxB,EAAA,MAAAE,EAAA,OAAA1C,MAAAgC,EAAAmD,MAAA,OAAA/C,EAAAtE,OAAA0E,EAAAJ,EAAAuB,IAAAjB,IAAA,KAAAE,EAAAR,EAAAgD,SAAA,GAAAxC,EAAA,KAAAE,EAAAuC,EAAAzC,EAAAR,GAAA,GAAAU,EAAA,IAAAA,IAAAmB,EAAA,gBAAAnB,CAAA,cAAAV,EAAAtE,OAAAsE,EAAAkD,KAAAlD,EAAAmD,MAAAnD,EAAAuB,SAAA,aAAAvB,EAAAtE,OAAA,IAAAwE,IAAAuB,EAAA,MAAAvB,EAAA0B,EAAA5B,EAAAuB,IAAAvB,EAAAoD,kBAAApD,EAAAuB,IAAA,gBAAAvB,EAAAtE,QAAAsE,EAAAqD,OAAA,SAAArD,EAAAuB,KAAArB,EAAAyB,EAAA,IAAAK,EAAAX,EAAA1B,EAAAE,EAAAG,GAAA,cAAAgC,EAAAV,KAAA,IAAApB,EAAAF,EAAA+C,KAAAnB,EAAAF,EAAAM,EAAAT,MAAAM,EAAA,gBAAAjE,MAAAoE,EAAAT,IAAAwB,KAAA/C,EAAA+C,KAAA,WAAAf,EAAAV,OAAApB,EAAA0B,EAAA5B,EAAAtE,OAAA,QAAAsE,EAAAuB,IAAAS,EAAAT,IAAA,YAAA0B,EAAAtD,EAAAE,GAAA,IAAAG,EAAAH,EAAAnE,OAAAwE,EAAAP,EAAAY,SAAAP,GAAA,GAAAE,IAAAN,EAAA,OAAAC,EAAAmD,SAAA,eAAAhD,GAAAL,EAAAY,SAAA,SAAAV,EAAAnE,OAAA,SAAAmE,EAAA0B,IAAA3B,EAAAqD,EAAAtD,EAAAE,GAAA,UAAAA,EAAAnE,SAAA,WAAAsE,IAAAH,EAAAnE,OAAA,QAAAmE,EAAA0B,IAAA,IAAA+B,UAAA,oCAAAtD,EAAA,aAAA6B,EAAA,IAAAzB,EAAAiB,EAAAnB,EAAAP,EAAAY,SAAAV,EAAA0B,KAAA,aAAAnB,EAAAkB,KAAA,OAAAzB,EAAAnE,OAAA,QAAAmE,EAAA0B,IAAAnB,EAAAmB,IAAA1B,EAAAmD,SAAA,KAAAnB,EAAA,IAAAvB,EAAAF,EAAAmB,IAAA,OAAAjB,EAAAA,EAAAyC,MAAAlD,EAAAF,EAAA4D,YAAAjD,EAAA1C,MAAAiC,EAAA2D,KAAA7D,EAAA8D,QAAA,WAAA5D,EAAAnE,SAAAmE,EAAAnE,OAAA,OAAAmE,EAAA0B,IAAA3B,GAAAC,EAAAmD,SAAA,KAAAnB,GAAAvB,GAAAT,EAAAnE,OAAA,QAAAmE,EAAA0B,IAAA,IAAA+B,UAAA,oCAAAzD,EAAAmD,SAAA,KAAAnB,EAAA,UAAA6B,EAAA9D,GAAA,IAAAD,EAAA,CAAAgE,OAAA/D,EAAA,SAAAA,IAAAD,EAAAiE,SAAAhE,EAAA,SAAAA,IAAAD,EAAAkE,WAAAjE,EAAA,GAAAD,EAAAmE,SAAAlE,EAAA,SAAAmE,WAAAC,KAAArE,EAAA,UAAAsE,EAAArE,GAAA,IAAAD,EAAAC,EAAAsE,YAAA,GAAAvE,EAAA2B,KAAA,gBAAA3B,EAAA4B,IAAA3B,EAAAsE,WAAAvE,CAAA,UAAAwB,EAAAvB,GAAA,KAAAmE,WAAA,EAAAJ,OAAA,SAAA/D,EAAA2C,QAAAmB,EAAA,WAAAS,OAAA,YAAA/B,EAAAzC,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAAE,EAAAF,EAAAW,GAAA,GAAAT,EAAA,OAAAA,EAAA2B,KAAA7B,GAAA,sBAAAA,EAAA6D,KAAA,OAAA7D,EAAA,IAAAyE,MAAAzE,EAAAnD,QAAA,KAAA0D,GAAA,EAAAE,EAAA,SAAAoD,IAAA,OAAAtD,EAAAP,EAAAnD,QAAA,GAAAwD,EAAAwB,KAAA7B,EAAAO,GAAA,OAAAsD,EAAA5F,MAAA+B,EAAAO,GAAAsD,EAAAT,MAAA,EAAAS,EAAA,OAAAA,EAAA5F,MAAAgC,EAAA4D,EAAAT,MAAA,EAAAS,CAAA,SAAApD,EAAAoD,KAAApD,CAAA,YAAAkD,UAAAX,EAAAhD,GAAA,2BAAAmC,EAAA/B,UAAAgC,EAAA7B,EAAAmC,EAAA,eAAAzE,MAAAmE,EAAAjB,cAAA,IAAAZ,EAAA6B,EAAA,eAAAnE,MAAAkE,EAAAhB,cAAA,IAAAgB,EAAAuC,YAAAzD,EAAAmB,EAAArB,EAAA,qBAAAf,EAAA2E,oBAAA,SAAA1E,GAAA,IAAAD,EAAA,mBAAAC,GAAAA,EAAA2E,YAAA,QAAA5E,IAAAA,IAAAmC,GAAA,uBAAAnC,EAAA0E,aAAA1E,EAAA6E,MAAA,EAAA7E,EAAA8E,KAAA,SAAA7E,GAAA,OAAAE,OAAA4E,eAAA5E,OAAA4E,eAAA9E,EAAAmC,IAAAnC,EAAA+E,UAAA5C,EAAAnB,EAAAhB,EAAAc,EAAA,sBAAAd,EAAAG,UAAAD,OAAAoB,OAAAmB,GAAAzC,CAAA,EAAAD,EAAAiF,MAAA,SAAAhF,GAAA,OAAAiD,QAAAjD,EAAA,EAAA0C,EAAAG,EAAA1C,WAAAa,EAAA6B,EAAA1C,UAAAS,GAAA,0BAAAb,EAAA8C,cAAAA,EAAA9C,EAAAkF,MAAA,SAAAjF,EAAAC,EAAAG,EAAAE,EAAAE,QAAA,IAAAA,IAAAA,EAAA0E,SAAA,IAAAxE,EAAA,IAAAmC,EAAAzB,EAAApB,EAAAC,EAAAG,EAAAE,GAAAE,GAAA,OAAAT,EAAA2E,oBAAAzE,GAAAS,EAAAA,EAAAkD,OAAA7H,MAAA,SAAAiE,GAAA,OAAAA,EAAAmD,KAAAnD,EAAAhC,MAAA0C,EAAAkD,MAAA,KAAAlB,EAAAD,GAAAzB,EAAAyB,EAAA3B,EAAA,aAAAE,EAAAyB,EAAA/B,GAAA,0BAAAM,EAAAyB,EAAA,qDAAA1C,EAAAoF,KAAA,SAAAnF,GAAA,IAAAD,EAAAG,OAAAF,GAAAC,EAAA,WAAAG,KAAAL,EAAAE,EAAAmE,KAAAhE,GAAA,OAAAH,EAAAmF,UAAA,SAAAxB,IAAA,KAAA3D,EAAArD,QAAA,KAAAoD,EAAAC,EAAAoF,MAAA,GAAArF,KAAAD,EAAA,OAAA6D,EAAA5F,MAAAgC,EAAA4D,EAAAT,MAAA,EAAAS,CAAA,QAAAA,EAAAT,MAAA,EAAAS,CAAA,GAAA7D,EAAAyC,OAAAA,EAAAjB,EAAApB,UAAA,CAAAwE,YAAApD,EAAAgD,MAAA,SAAAxE,GAAA,QAAAuF,KAAA,OAAA1B,KAAA,OAAAN,KAAA,KAAAC,MAAAvD,EAAA,KAAAmD,MAAA,OAAAC,SAAA,UAAAtH,OAAA,YAAA6F,IAAA3B,EAAA,KAAAmE,WAAAxB,QAAA0B,IAAAtE,EAAA,QAAAE,KAAA,WAAAA,EAAAsF,OAAA,IAAAnF,EAAAwB,KAAA,KAAA3B,KAAAuE,OAAAvE,EAAAuF,MAAA,WAAAvF,GAAAD,EAAA,EAAAyF,KAAA,gBAAAtC,MAAA,MAAAnD,EAAA,KAAAmE,WAAA,GAAAG,WAAA,aAAAtE,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,YAAA+D,IAAA,EAAAlC,kBAAA,SAAAzD,GAAA,QAAAoD,KAAA,MAAApD,EAAA,IAAAE,EAAA,cAAA0F,EAAAvF,EAAAE,GAAA,OAAAI,EAAAgB,KAAA,QAAAhB,EAAAiB,IAAA5B,EAAAE,EAAA2D,KAAAxD,EAAAE,IAAAL,EAAAnE,OAAA,OAAAmE,EAAA0B,IAAA3B,KAAAM,CAAA,SAAAA,EAAA,KAAA6D,WAAAvH,OAAA,EAAA0D,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAA2D,WAAA7D,GAAAI,EAAAF,EAAA8D,WAAA,YAAA9D,EAAAuD,OAAA,OAAA4B,EAAA,UAAAnF,EAAAuD,QAAA,KAAAuB,KAAA,KAAA1E,EAAAR,EAAAwB,KAAApB,EAAA,YAAAM,EAAAV,EAAAwB,KAAApB,EAAA,iBAAAI,GAAAE,EAAA,SAAAwE,KAAA9E,EAAAwD,SAAA,OAAA2B,EAAAnF,EAAAwD,UAAA,WAAAsB,KAAA9E,EAAAyD,WAAA,OAAA0B,EAAAnF,EAAAyD,WAAA,SAAArD,GAAA,QAAA0E,KAAA9E,EAAAwD,SAAA,OAAA2B,EAAAnF,EAAAwD,UAAA,YAAAlD,EAAA,MAAAjC,MAAA,kDAAAyG,KAAA9E,EAAAyD,WAAA,OAAA0B,EAAAnF,EAAAyD,WAAA,KAAAR,OAAA,SAAAzD,EAAAD,GAAA,QAAAE,EAAA,KAAAkE,WAAAvH,OAAA,EAAAqD,GAAA,IAAAA,EAAA,KAAAK,EAAA,KAAA6D,WAAAlE,GAAA,GAAAK,EAAAyD,QAAA,KAAAuB,MAAAlF,EAAAwB,KAAAtB,EAAA,oBAAAgF,KAAAhF,EAAA2D,WAAA,KAAAzD,EAAAF,EAAA,OAAAE,IAAA,UAAAR,GAAA,aAAAA,IAAAQ,EAAAuD,QAAAhE,GAAAA,GAAAS,EAAAyD,aAAAzD,EAAA,UAAAE,EAAAF,EAAAA,EAAA8D,WAAA,UAAA5D,EAAAgB,KAAA1B,EAAAU,EAAAiB,IAAA5B,EAAAS,GAAA,KAAA1E,OAAA,YAAA8H,KAAApD,EAAAyD,WAAAhC,GAAA,KAAA2D,SAAAlF,EAAA,EAAAkF,SAAA,SAAA5F,EAAAD,GAAA,aAAAC,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,gBAAA3B,EAAA0B,MAAA,aAAA1B,EAAA0B,KAAA,KAAAkC,KAAA5D,EAAA2B,IAAA,WAAA3B,EAAA0B,MAAA,KAAAgE,KAAA,KAAA/D,IAAA3B,EAAA2B,IAAA,KAAA7F,OAAA,cAAA8H,KAAA,kBAAA5D,EAAA0B,MAAA3B,IAAA,KAAA6D,KAAA7D,GAAAkC,CAAA,EAAA4D,OAAA,SAAA7F,GAAA,QAAAD,EAAA,KAAAoE,WAAAvH,OAAA,EAAAmD,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAkE,WAAApE,GAAA,GAAAE,EAAAgE,aAAAjE,EAAA,YAAA4F,SAAA3F,EAAAqE,WAAArE,EAAAiE,UAAAG,EAAApE,GAAAgC,CAAA,kBAAAjC,GAAA,QAAAD,EAAA,KAAAoE,WAAAvH,OAAA,EAAAmD,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAkE,WAAApE,GAAA,GAAAE,EAAA8D,SAAA/D,EAAA,KAAAI,EAAAH,EAAAqE,WAAA,aAAAlE,EAAAsB,KAAA,KAAApB,EAAAF,EAAAuB,IAAA0C,EAAApE,EAAA,QAAAK,CAAA,QAAAzB,MAAA,0BAAAiH,cAAA,SAAA/F,EAAAE,EAAAG,GAAA,YAAAgD,SAAA,CAAAzC,SAAA6B,EAAAzC,GAAA4D,WAAA1D,EAAA4D,QAAAzD,GAAA,cAAAtE,SAAA,KAAA6F,IAAA3B,GAAAiC,CAAA,GAAAlC,CAAA,UAAAgG,EAAA3F,EAAAJ,EAAAD,EAAAE,EAAAK,EAAAI,EAAAE,GAAA,QAAAJ,EAAAJ,EAAAM,GAAAE,GAAAE,EAAAN,EAAAxC,KAAA,OAAAoC,GAAA,YAAAL,EAAAK,EAAA,CAAAI,EAAA2C,KAAAnD,EAAAc,GAAAoE,QAAAlC,QAAAlC,GAAA/E,KAAAkE,EAAAK,EAAA,UAAA0F,EAAA5F,GAAA,sBAAAJ,EAAA,KAAAD,EAAApD,UAAA,WAAAuI,SAAA,SAAAjF,EAAAK,GAAA,IAAAI,EAAAN,EAAA6F,MAAAjG,EAAAD,GAAA,SAAAmG,EAAA9F,GAAA2F,EAAArF,EAAAT,EAAAK,EAAA4F,EAAAC,EAAA,OAAA/F,EAAA,UAAA+F,EAAA/F,GAAA2F,EAAArF,EAAAT,EAAAK,EAAA4F,EAAAC,EAAA,QAAA/F,EAAA,CAAA8F,OAAA,gBAAAE,EAAAnG,GAAA,IAAAG,EAAAJ,EAAAM,EAAAP,EAAA,0BAAAU,SAAAT,EAAAS,OAAAI,cAAAP,EAAAG,OAAAE,UAAAZ,KAAA,IAAAC,GAAA,OAAAI,EAAAH,EAAAD,IAAA,OAAAI,EAAAwB,KAAA3B,GAAA,GAAAK,GAAA,OAAAF,EAAAH,EAAAK,IAAA,WAAA+F,EAAAjG,EAAAwB,KAAA3B,IAAAD,EAAA,kBAAAM,EAAA,uBAAAoD,UAAA,yCAAA2C,EAAApG,GAAA,SAAAqG,EAAArG,GAAA,GAAAC,OAAAD,KAAAA,EAAA,OAAAiF,QAAAqB,OAAA,IAAA7C,UAAAzD,EAAA,2BAAAG,EAAAH,EAAAkD,KAAA,OAAA+B,QAAAlC,QAAA/C,EAAAjC,OAAAjC,MAAA,SAAAkE,GAAA,OAAAjC,MAAAiC,EAAAkD,KAAA/C,EAAA,WAAAiG,EAAA,SAAApG,GAAA,KAAA+B,EAAA/B,EAAA,KAAAG,EAAAH,EAAA2D,IAAA,EAAAyC,EAAAlG,UAAA,CAAA6B,EAAA,KAAA5B,EAAA,KAAAwD,KAAA,kBAAA0C,EAAA,KAAAlG,EAAA6F,MAAA,KAAAjE,EAAArF,WAAA,kBAAAsD,GAAA,IAAAG,EAAA,KAAA4B,EAAA,uBAAA5B,EAAA8E,QAAAlC,QAAA,CAAAhF,MAAAiC,EAAAkD,MAAA,IAAAmD,EAAAlG,EAAA6F,MAAA,KAAAjE,EAAArF,WAAA,iBAAAsD,GAAA,IAAAG,EAAA,KAAA4B,EAAA,uBAAA5B,EAAA8E,QAAAqB,OAAAtG,GAAAqG,EAAAlG,EAAA6F,MAAA,KAAAjE,EAAArF,WAAA,OAAA0J,EAAApG,EAAA,CAOA,SAASuG,EAAqBC,EAAgBC,EAAcC,GACxD,IAAMC,EAAkB1J,SAASqB,cAAc,OAC/CqI,EAAgBC,MAAMC,QAAU,OAChCF,EAAgBxH,GAAK,kBAErB,IAAM2H,EAAQ7J,SAASqB,cAAc,SACrCwI,EAAMhJ,UAAY,aAClB,IAAMiJ,EAAc9J,SAASqB,cAAc,SAC3CyI,EAAYtF,KAAO,WACnBsF,EAAYC,SAAW,kBAAM/J,SAASwC,KAAKwH,UAAUC,OAAO,aAAa,EACzEJ,EAAMvI,YAAYwI,GAClBJ,EAAgBpI,YAAYuI,GAE5B,IAAMK,EAAiBlK,SAASqB,cAAc,OAC9C6I,EAAehI,GAAK,4BAEpB,IAAMiI,EAAcnK,SAASqB,cAAc,OAC3C8I,EAAYjI,GAAK,yBACjBiI,EAAYtJ,UAAY,UAAHnC,OAAaW,GAElC,IAAM+K,EAAkBpK,SAASqB,cAAc,QAC/C+I,EAAgBvJ,UAAY,IAE5BsJ,EAAY7I,YAAY8I,GACxBF,EAAe5I,YAAY6I,GAE3B,IAAME,EAAerK,SAASqB,cAAc,OAC5CgJ,EAAanI,GAAK,0BAClBmI,EAAaV,MAAMC,QAAU,OAU7BxK,EAAgBqG,SAAQ,SAAA6E,GACpB,IAAMC,EAAOvK,SAASqB,cAAc,OACpCkJ,EAAKrJ,UAAY,uBACjBqJ,EAAK1J,UAAYyJ,EACbA,IAAUjL,GAAekL,EAAKP,UAAUQ,IAAI,kBAChDD,EAAKpI,QAAU,kBAbWsI,EAagBF,EAbLG,EAaWJ,EAZhDtK,SAAS2K,iBAAiB,yBAAyBlF,SAAQ,SAAA8E,GAAI,OAAIA,EAAKP,UAAUY,OAAO,iBAAiB,IAC1GtM,OAAOe,cAAgBqL,EACvBD,EAAUT,UAAUQ,IAAI,kBACxBL,EAAYtJ,UAAY,UAAHnC,OAAagM,QAClCP,EAAY7I,YAAY8I,GAL5B,IAA8BK,EAAWC,CAaiB,EACtDL,EAAa/I,YAAYiJ,EAC7B,IAEAL,EAAe5I,YAAY+I,GAC3BX,EAAgBpI,YAAY4I,GAE5BC,EAAYhI,QAAU,WAClBkI,EAAaV,MAAMC,QAAyC,SAA/BS,EAAaV,MAAMC,QAAqB,QAAU,OAC/EQ,EAAgBvJ,UAA2C,SAA/BwJ,EAAaV,MAAMC,QAAqB,IAAM,GAC9E,EAEA,IAAMiB,EAA0B7K,SAASqB,cAAc,OACvDwJ,EAAwB3I,GAAK,4BAE7B,IAAM4I,EAAuB9K,SAASqB,cAAc,OACpDyJ,EAAqB5I,GAAK,yBAC1B4I,EAAqBjK,UAAY,kBAEjC,IAAMkK,EAAa/K,SAASqB,cAAc,QAC1C0J,EAAWlK,UAAY,IACvBiK,EAAqBxJ,YAAYyJ,GACjCF,EAAwBvJ,YAAYwJ,GAEpC,IAAMrI,EAAwBzC,SAASqB,cAAc,OAcrD,SACe2J,EAAkBC,GAAA,OAAAC,EAAAnC,MAAC,KAADtJ,UAAA,UAAAyL,IA2BhC,OA3BgCA,EAAApC,EAAAlG,IAAA+E,MAAjC,SAAAwD,EAAkCC,GAAI,IAAAC,EAAAC,EAAAC,EAAApK,EAAAmC,EAAAkI,EAAAC,EAAAC,EAAA,OAAA9I,IAAAsB,MAAA,SAAAyH,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAjF,MAAA,OAcjC,OATK2E,EAAW/M,OAAO+M,UAAY/M,OAAOiN,KAAOjN,OAAOsN,eAEzD1M,QAAQuB,IAAI,sBAAsC,IAAb4K,GACrCnM,QAAQuB,IAAI,uBAA6C,IAAnBnC,OAAOuN,SAIzCR,IACAA,EAASS,oBAAoBC,UAAY,4EAC5CJ,EAAAjF,KAAA,EAEyB0E,EAAKE,cAAa,OAA3B,OAAXA,EAAWK,EAAAvF,KAAAuF,EAAAjF,KAAG,EACF2E,EAASW,YAAY,CAAEhN,KAAMsM,IAAeW,QAAO,OAA/DV,EAAGI,EAAAvF,KACLjF,EAAO,GAEFmC,EAAI,EAAC,aAAEA,EAAIiI,EAAIW,UAAQ,CAAAP,EAAAjF,KAAA,gBAAAiF,EAAAjF,KAAA,GACT6E,EAAIY,QAAQ7I,EAAI,GAAE,QAA3B,OAAJkI,EAAIG,EAAAvF,KAAAuF,EAAAjF,KAAG,GACS8E,EAAKY,iBAAgB,QAArCX,EAAOE,EAAAvF,KACPsF,EAAWD,EAAQY,MAAMC,KAAI,SAAA/B,GAAI,OAAIA,EAAKgC,GAAG,IAAEC,KAAK,KAC1DrL,GAAQuK,EAAW,KAAK,QAJMpI,IAAGqI,EAAAjF,KAAA,wBAAAiF,EAAApF,OAAA,SAM9BpF,GAAI,yBAAAwK,EAAApD,OAAA,GAAA4C,EAAA,MACdpC,MAAA,KAAAtJ,UAAA,UAEcgN,EAAmBC,GAAA,OAAAC,EAAA5D,MAAC,KAADtJ,UAAA,CAMlC,SAAAkN,IAFC,OAEDA,EAAA7D,EAAAlG,IAAA+E,MANA,SAAAiF,EAAmCxB,GAAI,IAAAE,EAAAuB,EAAA,OAAAjK,IAAAsB,MAAA,SAAA4I,GAAA,cAAAA,EAAA1E,KAAA0E,EAAApG,MAAA,cAAAoG,EAAApG,KAAA,EACb0E,EAAKE,cAAa,OAA3B,OAAXA,EAAWwB,EAAA1G,KAAA0G,EAAApG,KAAG,EACCmF,QAAQkB,eAAe,CAAEzB,YAAAA,IAAc,OAAhD,OAANuB,EAAMC,EAAA1G,KAAA0G,EAAAvG,OAAA,SACLsG,EAAO/L,OAAK,wBAAAgM,EAAAvE,OAAA,GAAAqE,EAAA,MAClB7D,MAAA,KAAAtJ,UAAA,CA/CDgD,EAAsBP,GAAK,0BAM3B4I,EAAqB3I,QAAU,WAC3B,IAAM6K,EAAmD,SAAxCvK,EAAsBkH,MAAMC,QAC7CnH,EAAsBkH,MAAMC,QAAUoD,EAAW,QAAU,OAC3DjC,EAAWlK,UAAYmM,EAAW,IAAM,GAC5C,EAwCA,IAAIC,EAAU,GAERC,EAAWlN,SAASqB,cAAc,SACxC6L,EAASrM,UAAY,YACrBqM,EAASC,aAAa,MAAO,aAE7B,IAAMC,EAAYpN,SAASqB,cAAc,SACzC+L,EAAU5I,KAAO,WACjB4I,EAAU1F,KAAO,YACjB0F,EAAUlL,GAAK,YACfkL,EAAUzD,MAAM0D,UAAY,sBAC5BD,EAAUE,UAAW,EACrBF,EAAUrD,SAAQjB,EAAAlG,IAAA+E,MAAG,SAAA4F,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAtL,IAAAsB,MAAA,SAAAiK,GAAA,cAAAA,EAAA/F,KAAA+F,EAAAzH,MAAA,OAEgC,GAAjDxH,QAAQuB,IAAK,gBAAiB2M,EAAU/M,UAGrC+M,EAAU/M,SAAsB,IAAX4M,EAAa,CAAAkB,EAAAzH,KAAA,SACjCxH,QAAQuB,IAAI,QAAS2N,KAAKC,UAAU,CAAE,UAAa,CAACpB,MAG9CO,EAAc,GAAEC,GAAA,EAAAC,GAAA,EAAAS,EAAA/F,KAAA,EAAAwF,EAAA1E,EACI+D,EAAQ3H,UAAQ,cAAA6I,EAAAzH,KAAA,GAAAkH,EAAAlH,OAAA,aAAA+G,IAAAI,EAAAM,EAAA/H,MAAAH,MAAA,CAAAkI,EAAAzH,KAAA,SACnB,UADNoH,EAAKD,EAAA/M,OACRwN,MACNd,EAAYtG,KAAK4G,GACpB,QAAAL,GAAA,EAAAU,EAAAzH,KAAA,gBAAAyH,EAAAzH,KAAA,iBAAAyH,EAAA/F,KAAA,GAAA+F,EAAAI,GAAAJ,EAAA,SAAAT,GAAA,EAAAC,EAAAQ,EAAAI,GAAA,WAAAJ,EAAA/F,KAAA,GAAA+F,EAAA/F,KAAA,IAAAqF,GAAA,MAAAG,EAAA,QAAAO,EAAAzH,KAAA,gBAAAyH,EAAAzH,KAAA,GAAAkH,EAAA,oBAAAO,EAAA/F,KAAA,IAAAsF,EAAA,CAAAS,EAAAzH,KAAA,eAAAiH,EAAA,eAAAQ,EAAAxF,OAAA,mBAAAwF,EAAAxF,OAAA,YAkBH,OAhBIoF,EAAgBP,EAAYlB,IAAG,eAAAkC,EAAA1F,EAAAlG,IAAA+E,MAAC,SAAA8G,EAAOhG,GAAM,IAAA2C,EAAAsD,EAAAvN,EAAA,OAAAyB,IAAAsB,MAAA,SAAAyK,GAAA,cAAAA,EAAAvG,KAAAuG,EAAAjI,MAAA,cAAAiI,EAAAjI,KAAA,EAC5B+B,EAAOmG,UAAS,OAGjB,GAHZxD,EAAIuD,EAAAvI,KACJsI,EAAMtD,EAAK1D,KAAKmH,MAAM,KAAK1G,MAAM2G,cACvC5P,QAAQuB,IAAI,sBAAD/B,OAAuBgQ,IAC9BvN,EAAO,QACC,QAARuN,EAAa,CAAAC,EAAAjI,KAAA,gBAAAiI,EAAAjI,KAAA,EACA0E,EAAKjK,OAAM,OAAxBA,EAAIwN,EAAAvI,KAAAuI,EAAAjI,KAAG,GAAH,iBACW,QAARgI,EAAa,CAAAC,EAAAjI,KAAA,gBAAAiI,EAAAjI,KAAA,GACPsE,EAAmBI,GAAK,QAArCjK,EAAIwN,EAAAvI,KAAAuI,EAAAjI,KAAG,GAAH,iBACW,SAARgI,EAAc,CAAAC,EAAAjI,KAAA,gBAAAiI,EAAAjI,KAAA,GACR+F,EAAoBrB,GAAK,QAAtCjK,EAAIwN,EAAAvI,KAAAuI,EAAAjI,KAAG,GAAH,cAEJxH,QAAQ6P,KAAK,0BAADrQ,OAA2B0M,EAAK1D,OAAQ,QAEf,OAAzCxI,QAAQuB,IAAI,sBAAD/B,OAAuByC,IAAOwN,EAAApI,OAAA,SAClC,CAAEmB,KAAM0D,EAAK1D,KAAM+D,QAAStK,IAAM,yBAAAwN,EAAApG,OAAA,GAAAkG,EAAA,KAC5C,gBAAAO,GAAA,OAAAR,EAAAzF,MAAA,KAAAtJ,UAAA,EAhBoC,IAgBnC0O,EAAAzH,KAAA,GACsBsB,QAAQiH,IAAIlB,GAAc,QAA5CC,EAASG,EAAA/H,KACflH,QAAQuB,IAAI,cAAeuN,GAGrBC,EAAW,IAAIiB,SAGfhB,EAAW,IAAIiB,KAAK,CAACf,KAAKC,UAAU,CAAE,UAAaL,KACzC,CAAExJ,KAAM,qBACxByJ,EAASmB,OAAO,YAAalB,EAAU,aAGvCzP,MAAM,wCAAyC,CAC3CG,OAAQ,OACR4D,KAAMyL,IAETpP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAG,GACEA,EAAKqQ,QACLnQ,QAAQuB,IAAI,WAAYzB,EAAKqQ,SACtBrQ,EAAKG,OACZD,QAAQC,MAAM,SAAUH,EAAKG,MAErC,IAAE,OACK,SAAAA,GACHD,QAAQC,MAAM,yBAA0BA,EAC5C,IAAG,yBAAAgP,EAAA5F,OAAA,GAAAgF,EAAA,qCAIX,IAAM+B,EAAUtP,SAASqB,cAAc,QAEjCkO,EAAYvP,SAASqB,cAAc,SACzCkO,EAAU1O,UAAY,iFACtB0O,EAAUpC,aAAa,MAAO,WAE9B,IAAMqC,EAAUxP,SAASqB,cAAc,SACvCmO,EAAQhL,KAAO,OACfgL,EAAQ9H,KAAO,UACf8H,EAAQtN,GAAK,UACbsN,EAAQ7F,MAAM8F,MAAQ,OAGtB,IAAMC,EAAkB1P,SAASqB,cAAc,UAC/CqO,EAAgBlL,KAAO,SACvBkL,EAAgB7O,UAAY,mBAC5B6O,EAAgBxO,UAAY,aAC5BwO,EAAgBxN,GAAK,kBACrBwN,EAAgBvN,QAAO2G,EAAAlG,IAAA+E,MAAG,SAAAgI,IAAA,IAAAC,EAAA,OAAAhN,IAAAsB,MAAA,SAAA2L,GAAA,cAAAA,EAAAzH,KAAAyH,EAAAnJ,MAAA,UAAAmJ,EAAAzH,KAAA,IAGd,wBAAyB9J,QAAM,CAAAuR,EAAAnJ,KAAA,gBAAAmJ,EAAAnJ,KAAA,EACPpI,OAAOwR,sBAAqB,OAA9CF,EAASC,EAAAzJ,KAEf6G,EAAU2C,EACVJ,EAAQ1O,MAAQmM,EAAQvF,KACxB0F,EAAUE,UAAW,EACrBpO,QAAQuB,IAAI,sBAAuBwM,GAAS4C,EAAAnJ,KAAA,iBAE5C7E,MAAM,qFAAqF,QAAAgO,EAAAnJ,KAAA,iBAAAmJ,EAAAzH,KAAA,GAAAyH,EAAAtB,GAAAsB,EAAA,SAG/F3Q,QAAQC,MAAM,6BAA4B0Q,EAAAtB,IACvB,eAAfsB,EAAAtB,GAAM7G,MACN7F,MAAM,8BAAgCgO,EAAAtB,GAAMc,SAC/C,yBAAAQ,EAAAtH,OAAA,GAAAoH,EAAA,mBAMT,IAAMI,EAAgB/P,SAASqB,cAAc,SAC7C0O,EAAcvL,KAAO,SACrBuL,EAAcjP,MAAQ,SACtBiP,EAAc7O,UAAY,aAC1B6O,EAAc7N,GAAK,gBAGnBoN,EAAQU,SAAW,SAASnN,GAMxB,OALAA,EAAEoN,iBACkB,IAAjBT,EAAQ1O,QACPmM,EAAUuC,EAAQ1O,MAClBsM,EAAUE,UAAW,IAElB,CACX,EAEA,IAAM4C,EAAiBlQ,SAASqB,cAAc,SAgD9C,OA/CA6O,EAAe1L,KAAO,SACtB0L,EAAepP,MAAQ,QACvBoP,EAAehP,UAAY,aAC3BgP,EAAehO,GAAK,eACpBgO,EAAe/N,QAAU,WACrB8K,EAAU,GACVuC,EAAQ1O,MAAQ,GAChBsM,EAAUE,UAAW,CACzB,EAEAgC,EAAQhO,YAAYiO,GACpBD,EAAQhO,YAAYkO,GACpBF,EAAQhO,YAAYoO,GACpBJ,EAAQhO,YAAYtB,SAASqB,cAAc,OAC3CiO,EAAQhO,YAAYyO,GACpBT,EAAQhO,YAAY4O,GAEpBzN,EAAsBnB,YAAYU,KAClC6I,EAAwBvJ,YAAYmB,GACpCiH,EAAgBpI,YAAYuJ,GAC5BnB,EAAgBpI,YAAY4L,GAC5BxD,EAAgBpI,YAAY8L,GAC5B1D,EAAgBpI,YAAYgO,GAE5B9F,EAAarH,QAAU,SAAUgO,GAC7BA,EAAMC,kBACN,IAAMC,EAAO7G,EAAa8G,wBACpBvL,EAAIsL,EAAKE,QAAUhH,EAAezI,MAAQ,EAAIxC,OAAOkS,SACrDC,EAAIJ,EAAKK,MAAQnH,EAAezI,MAAQ,EAAIxC,OAAOqS,SACzDjH,EAAgBC,MAAMiH,IAAM,GAAHlS,OAAMqG,EAAC,MAChC2E,EAAgBC,MAAM+G,KAAO,GAAHhS,OAAM+R,EAAC,MACjC/G,EAAgBC,MAAMC,QAA4C,SAAlCF,EAAgBC,MAAMC,QAAqB,QAAU,OACrFF,EAAgBC,MAAMkH,SAAWtH,EAAezI,MAAQ,QAAU,WAC5B,UAAlC4I,EAAgBC,MAAMC,SJrLvBnL,MAAM,iDACRI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAAC,OAC3B,SAAAI,GAEH,MADAD,QAAQC,MAAM,iCAAkCA,GAC1CA,CACV,IGZCN,MAAK,SAAAG,GACF,IAAMyD,EAAwBzC,SAASC,eAAe,2BACtDwC,EAAsBhB,UAAY,GAE9BzC,EAAK8R,KAAKpR,OAAS,GACnBV,EAAK8R,KAAKrL,SAAQ,SAAAsL,GACd,IAAMC,EAAWhR,SAASqB,cAAc,OACxC2P,EAAS9P,UAAY,sBACrB8P,EAASnQ,UAAYkQ,EACrBtO,EAAsBnB,YAAY0P,EACtC,IAIJ,IAAM/O,EAAgBjC,SAASC,eAAe,oBAAsB+B,IACpES,EAAsBnB,YAAYW,EACtC,IAAE,OACK,SAAA9C,GAAK,OAAID,QAAQC,MAAM,iCAAkCA,EAAM,GC4K1E,EAEAa,SAASiR,iBAAiB,SAAS,SAAUd,GAEH,UAAlCzG,EAAgBC,MAAMC,SACrBF,EAAgBwH,SAASf,EAAMgB,SAC/B3H,EAAa0H,SAASf,EAAMgB,SAC5B1H,EAAiByH,SAASf,EAAMgB,UAEjCzH,EAAgBC,MAAMC,QAAU,OAExC,IAEOF,CACX,CC9SA,IAAMrL,EAAaC,OAAOC,SAASC,KAAK4S,WACxClS,QAAQuB,IAAI,iBAAkBpC,GAE9B,IAAMgT,EAAcrR,SAASwC,KAAK3B,WAAa,GACxBlC,mBAAmB0S,GLL1C,SAA6BA,EAAahT,GACtC,OAAOI,MAAM,uCAAwC,CACjDG,OAAQ,OACR2D,QAAS,CACL,eAAgB,oBAEpBC,KAAM4L,KAAKC,UAAU,CACjBgD,YAAaA,EACbhT,WAAYA,MAGfQ,MAAK,SAAAC,GACF,IAAKA,EAAS4C,GACV,MAAM,IAAIC,MAAM,wCAADjD,OAAyCI,EAASG,OAAM,MAE3E,OAAOH,EAASC,MACpB,IACCF,MAAK,SAAAG,GAEF,OADAE,QAAQuB,IAAI,wBAAyBzB,GAC9BA,CACX,IAAE,OACK,SAAAG,GAEH,MADAD,QAAQC,MAAM,iDAAkDA,GAC1DA,CACV,GACR,CKjBAmS,CAAoBD,EAAahT,GAC5BQ,MAAK,SAAAG,GACFE,QAAQuB,IAAI,wBAAyBzB,EACzC,IAAE,OACK,SAAAG,GACHD,QAAQC,MAAM,iDAAkDA,EACpE,IAGJ,IAAAoS,ECZA,WACI,IAGMhI,EAAiB,CAAEzI,OAHP,GAMZ0Q,ECdV,WACI,IAAMA,EAAQxR,SAASqB,cAAc,OAErC,OADAmQ,EAAMtP,GAAK,mBACJsP,CACX,CDUkBC,GAGRjI,EAAexJ,SAASqB,cAAc,QAC5CmI,EAAa3I,UAAY,KACzB2I,EAAatI,UAAY,OAEzB,IAAMuI,EAAmBzJ,SAASqB,cAAc,QAChDoI,EAAiB5I,UAAY,KAC7B4I,EAAiBvH,GAAK,qBACtBuH,EAAiBvI,UAAY,OAG7B,IAAMwI,EAAkBJ,EAAqBC,EAAgBC,EAAcC,GAG3EA,EAAiBtH,QAAU,WACvB,IAAMkO,EAAOmB,EAAMlB,wBACnB,GAAI/G,EAAezI,MAAO,CACtB0Q,EAAM7H,MAAMkH,SAAW,WACvBW,EAAM7H,MAAMiH,IAAM,GAAHlS,OAAM2R,EAAKO,IAAMtS,OAAOkS,QAAO,MAC9CgB,EAAM7H,MAAM+G,KAAO,GAAHhS,OAAM2R,EAAKK,KAAOpS,OAAOqS,QAAO,MAChDlH,EAAiB5I,UAAY,KAE7B,IAAM6Q,EAAmBlI,EAAa8G,wBACtC5G,EAAgBC,MAAMkH,SAAW,WACjCnH,EAAgBC,MAAMiH,IAAM,GAAHlS,OAAMgT,EAAiBnB,OAASjS,OAAOkS,QAAO,MACvE9G,EAAgBC,MAAM+G,KAAO,GAAHhS,OAAMgT,EAAiBhB,KAAOpS,OAAOqS,QAAO,KAC1E,KAAO,CACHa,EAAM7H,MAAMkH,SAAW,QACvBW,EAAM7H,MAAMiH,IAAM,GAAHlS,OAAM2R,EAAKO,IAAG,MAC7BY,EAAM7H,MAAM+G,KAAO,GAAHhS,OAAM2R,EAAKK,KAAI,MAC/BjH,EAAiB5I,UAAY,QAE7B,IAAM6Q,EAAmBlI,EAAa8G,wBACtC5G,EAAgBC,MAAMkH,SAAW,QACjCnH,EAAgBC,MAAMiH,IAAM,GAAHlS,OAAMgT,EAAiBnB,OAAM,MACtD7G,EAAgBC,MAAM+G,KAAO,GAAHhS,OAAMgT,EAAiBhB,KAAI,KACzD,CACAnH,EAAezI,OAASyI,EAAezI,KAC3C,EAGA,IAAM6Q,EEzDV,SAAsBH,EAAO9H,EAAiBF,EAAcC,GACxD,IAAMkI,EAAS3R,SAASqB,cAAc,OACtCsQ,EAAOzP,GAAK,SACZyP,EAAOzQ,UAAY,YAEnB,IAAM0Q,EAAQ5R,SAASqB,cAAc,QACrCuQ,EAAM/Q,UAAY,SAElB,IAAMgR,EAAgB7R,SAASqB,cAAc,OAC7CwQ,EAAc3P,GAAK,iBAEnB,IAAM4P,EAAe9R,SAASqB,cAAc,QAC5CyQ,EAAajR,UAAY,IACzBiR,EAAa5Q,UAAY,OACzB4Q,EAAa3P,QAAU,WACfqP,EAAMxH,UAAUkH,SAAS,cACzBM,EAAMxH,UAAUY,OAAO,aACvB4G,EAAM7H,MAAMoI,OAAS,UAErBP,EAAMxH,UAAUQ,IAAI,aACpBgH,EAAM7H,MAAMoI,OAAS,OAE7B,EAEA,IAAMC,EAAYhS,SAASqB,cAAc,QAezC,OAdA2Q,EAAUnR,UAAY,IACtBmR,EAAU9Q,UAAY,OACtB8Q,EAAU7P,QAAU,WAChBqP,EAAM7H,MAAMC,QAAU,MAC1B,EAEAiI,EAAcvQ,YAAYkI,GAC1BqI,EAAcvQ,YAAYmI,GAC1BoI,EAAcvQ,YAAYwQ,GAC1BD,EAAcvQ,YAAY0Q,GAE1BL,EAAOrQ,YAAYsQ,GACnBD,EAAOrQ,YAAYuQ,GAEZF,CACX,CFiBmBM,CAAaT,EAAO9H,EAAiBF,EAAcC,GAG5DyI,EAAQlS,SAASqB,cAAc,OACrC6Q,EAAMhQ,GAAK,QAEX,IAAMiQ,EAAYnS,SAASqB,cAAc,MACzC8Q,EAAUtR,UAAY,yCAEtB,IAAMuR,EAAepS,SAASqB,cAAc,KAC5C+Q,EAAalQ,GAAK,eAClBkQ,EAAavR,UAAY,oBAEzBqR,EAAM5Q,YAAY8Q,GAClBF,EAAM5Q,YAAY6Q,GAClBD,EAAM5Q,YAAY8Q,GAGlB,IAAM3G,EAAUzL,SAASqB,cAAc,OACvCoK,EAAQvJ,GAAK,UACb,IAAMnC,EAAoBC,SAASqB,cAAc,OACjDtB,EAAkBmC,GAAK,UACvBuJ,EAAQnK,YAAYvB,GAEpB,IAAAsS,EG/EJ,WACI,IAAMC,EAAiBtS,SAASqB,cAAc,OAC9CiR,EAAepQ,GAAK,iBAEpB,IAAMqQ,EAAuBvS,SAASqB,cAAc,OACpDkR,EAAqBrQ,GAAK,uBAE1B,IAAMsQ,EAAiBxS,SAASqB,cAAc,UAC9CmR,EAAetQ,GAAK,iBACpBsQ,EAAe3R,UAAY,YAC3B2R,EAAexI,UAAUQ,IAAI,cAAe,eAE5C+H,EAAqBjR,YAAYkR,GACjCF,EAAehR,YAAYiR,GAE3B,IAAME,EAAUzS,SAASqB,cAAc,SACvCoR,EAAQjO,KAAO,OACfiO,EAAQvQ,GAAK,UACbuQ,EAAQC,YAAc,6BACtBD,EAAQxB,iBAAiB,WAAW,SAAUd,GACxB,UAAdA,EAAMwC,KACN/Q,GAER,IACA0Q,EAAehR,YAAYmR,GAE3B,IAAMG,EAAkB5S,SAASqB,cAAc,OAC/CuR,EAAgB1Q,GAAK,kBAErB,IAAM2Q,EAAY7S,SAASqB,cAAc,UACzCwR,EAAU3Q,GAAK,YACf2Q,EAAUhS,UAAY,MACtBgS,EAAU1Q,QAAUP,EAEpB,IAAMkR,EAAe9S,SAASqB,cAAc,UAC5CyR,EAAa5Q,GAAK,eAClB4Q,EAAajS,UAAY,eACzBiS,EAAa3Q,QAAUL,EAEvB8Q,EAAgBtR,YAAYuR,GAC5BD,EAAgBtR,YAAYwR,GAE5B,IAAMC,EAAY/S,SAASqB,cAAc,OACzC0R,EAAU7R,UAAY,aAEtB,IAAM8R,EAAchT,SAASqB,cAAc,UAC3C2R,EAAYnS,UAAY,QACxBmS,EAAY9R,UAAY,eACxB8R,EAAY7Q,QAAUZ,EAEtB,IAAM0R,EAAgBjT,SAASqB,cAAc,UAQ7C,OAPA4R,EAAcpS,UAAY,UAC1BoS,EAAc/R,UAAY,iBAC1B+R,EAAc9Q,QAAU,YNM5B,SAAqB+Q,GACjB,IAAMC,EAAiBnT,SAASC,eAAe,kBACzCmT,EAAiBpT,SAASC,eAAe,mBACzCoT,EAAcrT,SAASC,eAAe,eAE5CkT,EAAexJ,MAAMC,QAAU,QAC/BwJ,EAAezJ,MAAMC,QAAU,QAC/ByJ,EAAY1J,MAAMC,QAAU,OHPhC,SAAuBsJ,GACnB,OAAOzU,MAAM,gDAADC,OAAiD4U,OAAOJ,IAAgB,CAAEtU,OAAQ,QACzFC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAAC,OAC3B,SAAAI,GAEH,MADAD,QAAQC,MAAM,iDAAkDA,GAC1DA,CACV,GACR,CGEIoU,CAAcL,GACTrU,MAAK,SAAAG,GACFE,QAAQuB,IAAIzB,EAAW,MACvB,IAAMwU,EAAUxU,EAAW,KAC3BqU,EAAY5R,UAAY,GAExB+R,EAAQ/N,SAAQ,SAAAgO,GACZ,IAAMrR,EAAMqR,EAAO,GACb1C,EAAO/Q,SAASqB,cAAc,KACpC0P,EAAKvS,KAAO4D,EACZ2O,EAAKlQ,UAAYuB,EACjB2O,EAAKI,OAAS,SAEd,IAAMuC,EAAW1T,SAASqB,cAAc,MACxCqS,EAASpS,YAAYyP,GACrB2C,EAAS1J,UAAUQ,IAAI,eAEvB6I,EAAY/R,YAAYoS,EAC5B,IAEAN,EAAezJ,MAAMC,QAAU,OAC/ByJ,EAAY1J,MAAMC,QAAU,OAChC,IAAE,OACK,SAAAzK,GACHD,QAAQC,MAAM,uCAAwCA,GACtDiU,EAAezJ,MAAMC,QAAU,MACnC,GACR,CM1C0C+J,CH9CpB,GG8C8C,EAEhEZ,EAAUzR,YAAY2R,GACtBF,EAAUzR,YAAY0R,GAEf,CAAEV,eAAAA,EAAgBM,gBAAAA,EAAiBG,UAAAA,EAC9C,CHoB2Da,GAA/CtB,EAAcD,EAAdC,eAAgBM,EAAeP,EAAfO,gBAAiBG,EAASV,EAATU,UAGnCI,EAAiBnT,SAASqB,cAAc,OAC9C8R,EAAejR,GAAK,iBACpBiR,EAAexJ,MAAMC,QAAU,OAE/B,IAAMiK,EAAgB7T,SAASqB,cAAc,OAC7CwS,EAAc3R,GAAK,wBAEnB,IAAM4R,EAAe9T,SAASqB,cAAc,MAC5CyS,EAAajT,UAAY,UAEzB,IAAMkT,EAAmB/T,SAASqB,cAAc,QAChD0S,EAAiBlT,UAAY,IAC7BkT,EAAiB7S,UAAY,OAC7B6S,EAAiB5R,QAAU,WACvBgR,EAAexJ,MAAMC,QAAU,MACnC,EAEAiK,EAAcvS,YAAYwS,GAC1BD,EAAcvS,YAAYyS,GAE1B,IAAMX,EAAiBpT,SAASqB,cAAc,OAC9C+R,EAAelR,GAAK,kBACpBkR,EAAelS,UAAY,UAC3BkS,EAAezJ,MAAMC,QAAU,OAE/B,IAAMyJ,EAAcrT,SAASqB,cAAc,MAC3CgS,EAAYnR,GAAK,cAEjBiR,EAAe7R,YAAYuS,GAC3BV,EAAe7R,YAAY8R,GAC3BD,EAAe7R,YAAY+R,GAG3B7B,EAAMlQ,YAAYqQ,GAClBH,EAAMlQ,YAAY4Q,GAClBV,EAAMlQ,YAAYmK,GAClB+F,EAAMlQ,YAAYyR,GAClBvB,EAAMlQ,YAAYgR,GAClBd,EAAMlQ,YAAYsR,GAElB5S,SAASwC,KAAKlB,YAAY6R,GAC1BnT,SAASwC,KAAKlB,YAAYoI,GAC1B1J,SAASwC,KAAKlB,YAAYkQ,GAG1BA,EAAM7H,MAAMkH,SAAW,WACvBW,EAAM7H,MAAMiH,IAAM,MAClBY,EAAM7H,MAAM+G,KAAO,MACnBc,EAAM7H,MAAM8F,MAAQ,QACpB+B,EAAM7H,MAAMoI,OAAS,QHgBzB,SAAmC3Q,GAAwD,IAGnF4S,EAASC,EAASC,EAAQC,EAAQC,EAAYC,EAHVC,EAAmB7U,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAI8U,EAAW9U,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAiC7E,SAAS+U,EAAY3R,GACjBA,EAAEoN,iBACF,IAAMwE,EAAO5R,EAAE6R,QAAUV,GAAWO,EAAc,EAAIjW,OAAOqS,SACvDgE,EAAO9R,EAAE+R,QAAUX,GAAWM,EAAc,EAAIjW,OAAOkS,SAC7DpP,EAAQuI,MAAM+G,KAAO,GAAHhS,OAAM+V,EAAI,MAC5BrT,EAAQuI,MAAMiH,IAAM,GAAHlS,OAAMiW,EAAI,MAG3B,IAAME,EAAgB7U,SAASC,eAAe,kBAC9C4U,EAAclL,MAAM+G,KAAO,GAAHhS,OAAM+V,EAAOrT,EAAQ0T,YAAcR,EAAmB,MAC9EO,EAAclL,MAAMiH,IAAM,GAAHlS,OAAMiW,EAAI,KACrC,CAEA,SAASI,EAAclS,GACnBA,EAAEoN,iBACF,IAAM+E,EAAWZ,GAAcvR,EAAE6R,QAAUR,GACrCe,EAAYZ,GAAexR,EAAE+R,QAAUT,GACzCa,EAAW,MACX5T,EAAQuI,MAAM8F,MAAQ,GAAH/Q,OAAMsW,EAAQ,OAEjCC,EAAY,MACZ7T,EAAQuI,MAAMoI,OAAS,GAAHrT,OAAMuW,EAAS,OAIjBjV,SAASC,eAAe,kBAChC0J,MAAM+G,KAAO,GAAHhS,OAAM0C,EAAQ8T,WAAa9T,EAAQ0T,YAAcR,EAAmB,KAChG,CAEA,SAASa,IACLnV,SAASoV,oBAAoB,YAAaZ,GAC1CxU,SAASoV,oBAAoB,YAAaL,GAC1C/U,SAASoV,oBAAoB,UAAWD,EAG5C,CA/DA/T,EAAQiU,cAAc,cAAcpE,iBAAiB,aAAa,SAASpO,GACvE,IAAI,CAAC,QAAS,WAAY,SAAU,KAAKyS,SAASzS,EAAEsO,OAAOoE,UAAY,uBAAyB1S,EAAEsO,OAAOjP,GAAzG,CAIAW,EAAEoN,iBAEF,IAAMI,EAAOjP,EAAQkP,wBACfkF,EAAc3S,EAAE6R,QAAUrE,EAAKoF,MAAQ,GACvCC,EAAe7S,EAAE+R,QAAUvE,EAAKE,OAAS,GAE3CiF,GAAeE,GAEfxB,EAASrR,EAAE6R,QACXP,EAAStR,EAAE+R,QACXR,EAAa/D,EAAKZ,MAClB4E,EAAchE,EAAK0B,OACnB/R,SAASiR,iBAAiB,YAAa8D,KAGvCf,EAAUnR,EAAE6R,QAAUrE,EAAKK,KAC3BuD,EAAUpR,EAAE+R,QAAUvE,EAAKO,IAC3B5Q,SAASiR,iBAAiB,YAAauD,IAG3CxU,SAASiR,iBAAiB,UAAWkE,EAtBrC,CAuBJ,GAsCJ,CGlFIQ,CAA0BnE,EADE,GAC0BjI,EAAezI,OAErE,IAAM8U,EAAYpE,EAAMlB,wBAMxB,OALA6C,EAAexJ,MAAM+G,KAAO,GAAHhS,OAAMkX,EAAUH,MAJb,GAIwC,MACpEtC,EAAexJ,MAAMiH,IAAM,GAAHlS,OAAMkX,EAAUhF,IAAG,MAE3C1R,QAAQuB,IAAI,cAEL,CACH+Q,MAAAA,EACA9H,gBAAAA,EACAyJ,eAAAA,EACAD,YA3Ic,GA6ItB,CDnIgE2C,GAAnDtE,EAALC,MAAsBD,EAAf7H,gBAA+B6H,EAAd4B,eAA2B5B,EAAX2B","sources":["webpack://extension-chatbot-fin/./src/modules/api.js","webpack://extension-chatbot-fin/./src/modules/config.js","webpack://extension-chatbot-fin/./src/modules/handlers.js","webpack://extension-chatbot-fin/./src/modules/helpers.js","webpack://extension-chatbot-fin/./src/modules/components/settings_window.js","webpack://extension-chatbot-fin/./src/content_archive.js","webpack://extension-chatbot-fin/./src/modules/ui.js","webpack://extension-chatbot-fin/./src/modules/components/popup.js","webpack://extension-chatbot-fin/./src/modules/components/header.js","webpack://extension-chatbot-fin/./src/modules/components/chat.js"],"sourcesContent":["// api.js\n\n// Function to POST JSON to the server endpoint\nfunction postWebTextToServer(textContent, currentUrl) {\n    return fetch(\"http://127.0.0.1:8000/input_webtext/\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            textContent: textContent,\n            currentUrl: currentUrl\n        }),\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`Network response was not ok (status: ${response.status})`);\n            }\n            return response.json();\n        })\n        .then(data => {\n            console.log(\"Response from server:\", data);\n            return data;\n        })\n        .catch(error => {\n            console.error(\"There was a problem with your fetch operation:\", error);\n            throw error;\n        });\n}\n\n// Function to get chat response from server\nfunction getChatResponse(question, selectedModel, isAdvanced, useRAG) {\n    const encodedQuestion = encodeURIComponent(question);\n    const endpoint = isAdvanced ? 'get_adv_response' : 'get_chat_response';\n\n    return fetch(\n        `http://127.0.0.1:8000/${endpoint}/?question=${encodedQuestion}&models=${selectedModel}&is_advanced=${isAdvanced}&use_rag=${useRAG}`,\n        { method: 'GET' }\n    )\n        .then(response => response.json())\n        .catch(error => {\n            console.error('There was a problem with your fetch operation:', error);\n            throw error;\n        });\n}\n\n// Function to clear messages\nfunction clearMessages() {\n    return fetch(`http://127.0.0.1:8000/clear_messages/`, { method: \"POST\" })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error('There was a problem with your fetch operation:', error);\n            throw error;\n        });\n}\n\n// Function to get sources\nfunction getSourceUrls(searchQuery) {\n    return fetch(`http://127.0.0.1:8000/get_source_urls/?query=${String(searchQuery)}`, { method: \"GET\" })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('There was a problem with your fetch operation:', error);\n            throw error;\n        });\n}\n\n// Function to log question\nfunction logQuestion(question, button) {\n    const currentUrl = window.location.href;\n\n    return fetch(\n        `http://127.0.0.1:8000/log_question/?question=${encodeURIComponent(question)}&button=${encodeURIComponent(button)}&current_url=${encodeURIComponent(currentUrl)}`,\n        { method: \"GET\" }\n    )\n        .then(response => response.json())\n        .then(data => {\n            if (data.status !== 'success') {\n                console.error('Failed to log question');\n            }\n            return data;\n        })\n        .catch(error => {\n            console.error('Error logging question:', error);\n            throw error;\n        });\n}\n\n// Function to add preferred URL\nfunction addPreferredUrl(url) {\n    return fetch('http://127.0.0.1:8000/api/add_preferred_url/', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: `url=${encodeURIComponent(url)}`\n    })\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Error adding preferred link:', error);\n            throw error;\n        });\n}\n\n// Function to get preferred URLs\nfunction getPreferredUrls() {\n    return fetch('http://127.0.0.1:8000/api/get_preferred_urls/')\n        .then(response => response.json())\n        .catch(error => {\n            console.error('Error loading preferred links:', error);\n            throw error;\n        });\n}\n\nexport { \n    postWebTextToServer, \n    getChatResponse, \n    clearMessages, \n    getSourceUrls, \n    logQuestion,\n    addPreferredUrl,\n    getPreferredUrls\n};","// config.js\n\n// Available models\nconst availableModels = [\"o1-preview\", \"gpt-4o\", \"deepseek-reasoner\"];\n\n// Initialize a single selected model\nlet selectedModel = \"o1-preview\";\n\nfunction getSelectedModel() {\n    return selectedModel;\n}\n\nexport { availableModels, selectedModel, getSelectedModel };","// handlers.js\nimport { appendChatElement } from './helpers.js';\nimport { getChatResponse } from './api.js';\nimport { getSelectedModel, selectedModel } from './config.js';\n\n\n// Function to handle chat responses (single model)\nfunction handleChatResponse(question, isAdvanced = false) {\n    const startTime = performance.now();\n    const responseContainer = document.getElementById('respons');\n\n    // Show the user's question\n    appendChatElement(responseContainer, 'your_question', question);\n\n    // Placeholder \"Loading...\" text\n    const loadingElement = appendChatElement(\n        responseContainer,\n        'agent_response',\n        `FinGPT: Loading...`\n    );\n\n    // Read the RAG checkbox state\n    const useRAG = document.getElementById('ragSwitch').checked;\n\n    const selectedModel = getSelectedModel();\n\n    getChatResponse(question, selectedModel, isAdvanced, useRAG)\n        .then(data => {\n            const endTime = performance.now();\n            const responseTime = endTime - startTime;\n            console.log(`Time taken for response: ${responseTime} ms`);\n\n            // Get the response for the selected model\n            const modelResponse = data.resp[selectedModel];\n\n            if (!modelResponse) {\n                // Safeguard in case backend does not return something\n                loadingElement.innerText = `FinGPT: (No response from server)`;\n            } else if (modelResponse.startsWith(\"The following file(s) are missing\")) {\n                loadingElement.innerText = `FinGPT: Error - ${modelResponse}`;\n            } else {\n                loadingElement.innerText = `FinGPT: ${modelResponse}`;\n            }\n\n            // Clear the user textbox\n            document.getElementById('textbox').value = '';\n            responseContainer.scrollTop = responseContainer.scrollHeight;\n        })\n        .catch(error => {\n            console.error('There was a problem with your fetch operation:', error);\n            loadingElement.innerText = `FinGPT: Failed to load response.`;\n        });\n}\n\n// Function to handle image response\nfunction handleImageResponse(question, description) {\n    const responseContainer = document.getElementById('respons');\n    appendChatElement(responseContainer, 'your_question', question);\n\n    const responseDiv = document.createElement('div');\n    responseDiv.className = 'agent_response';\n    responseDiv.innerText = description;\n    responseContainer.appendChild(responseDiv);\n\n    responseContainer.scrollTop = responseContainer.scrollHeight;\n}\n\nexport { handleChatResponse, handleImageResponse };","// helpers.js\nimport { clearMessages, getSourceUrls, addPreferredUrl, getPreferredUrls, logQuestion } from './api.js';\nimport { handleChatResponse, handleImageResponse } from './handlers.js';\n\n// Function to append chat elements\nfunction appendChatElement(parent, className, text) {\n    const element = document.createElement('span');\n    element.className = className;\n    element.innerText = text;\n    parent.appendChild(element);\n    return element;\n}\n\n// Function to clear chat\nfunction clear() {\n    const response = document.getElementById('respons');\n    const sourceurls = document.getElementById('source_urls');\n\n    response.innerHTML = \"\";\n    if (sourceurls) {\n        sourceurls.innerHTML = \"\";\n    }\n    \n    clearMessages()\n        .then(data => {\n            console.log(data);\n        })\n        .catch(error => {\n            console.error('There was a problem clearing messages:', error);\n        });\n}\n\n// Ask button click\nfunction get_chat_response() {\n    const question = document.getElementById('textbox').value;\n\n    if (question) {\n        handleChatResponse(question, false);\n        logQuestion(question, 'Ask');\n        document.getElementById('textbox').value = '';\n    } else {\n        alert(\"Please enter a question.\");\n    }\n}\n\n// Advanced Ask button click\nfunction get_adv_chat_response() {\n    const question = document.getElementById('textbox').value.trim();\n\n    if (question === '') {\n        alert(\"Please enter a message.\");\n        return;\n    }\n\n    // Text Processing Mode\n    handleChatResponse(question, true);\n    logQuestion(question, 'Advanced Ask');\n\n    document.getElementById('textbox').value = '';\n}\n\n// Function to get sources\nfunction get_sources(searchQuery) {\n    const sources_window = document.getElementById('sources_window');\n    const loadingSpinner = document.getElementById('loading_spinner');\n    const source_urls = document.getElementById('source_urls');\n\n    sources_window.style.display = 'block';\n    loadingSpinner.style.display = 'block'; // Show the spinner\n    source_urls.style.display = 'none'; // Hide the source list initially\n\n    getSourceUrls(searchQuery)\n        .then(data => {\n            console.log(data[\"resp\"]);\n            const sources = data[\"resp\"];\n            source_urls.innerHTML = '';\n\n            sources.forEach(source => {\n                const url = source[0];\n                const link = document.createElement('a');\n                link.href = url;\n                link.innerText = url;\n                link.target = \"_blank\";\n\n                const listItem = document.createElement('li');\n                listItem.appendChild(link);\n                listItem.classList.add('source-item');\n\n                source_urls.appendChild(listItem);\n            });\n\n            loadingSpinner.style.display = 'none'; // Hide spinner\n            source_urls.style.display = 'block'; // Show source list\n        })\n        .catch(error => {\n            console.error('There was a problem getting sources:', error);\n            loadingSpinner.style.display = 'none'; // Hide spinner in case of error\n        });\n}\n\n// Function to load preferred links\nfunction loadPreferredLinks() {\n    getPreferredUrls()\n        .then(data => {\n            const preferredLinksContent = document.getElementById('preferred_links_content');\n            preferredLinksContent.innerHTML = ''; // Clear existing content\n            \n            if (data.urls.length > 0) {\n                data.urls.forEach(link => {\n                    const linkItem = document.createElement('div');\n                    linkItem.className = 'preferred-link-item';\n                    linkItem.innerText = link;\n                    preferredLinksContent.appendChild(linkItem);\n                });\n            }\n            \n            // Re-add the '+' button\n            const addLinkButton = document.getElementById('add_link_button') || createAddLinkButton();\n            preferredLinksContent.appendChild(addLinkButton);\n        })\n        .catch(error => console.error('Error loading preferred links:', error));\n}\n\n// Function to create Add Link Button\nfunction createAddLinkButton() {\n    const addLinkButton = document.createElement('div');\n    addLinkButton.id = \"add_link_button\";\n    addLinkButton.innerText = \"+\";\n    addLinkButton.onclick = function() {\n        const newLink = prompt(\"Enter a new preferred URL:\");\n        if (newLink) {\n            addPreferredUrl(newLink)\n                .then(data => {\n                    if (data.status === 'success') {\n                        const preferredLinksContent = document.getElementById('preferred_links_content');\n                        const newLinkItem = document.createElement('div');\n                        newLinkItem.className = 'preferred-link-item';\n                        newLinkItem.innerText = newLink;\n                        preferredLinksContent.insertBefore(newLinkItem, addLinkButton);\n                    } else {\n                        alert('Failed to add the new URL.');\n                    }\n                })\n                .catch(error => console.error('Error adding preferred link:', error));\n        }\n    };\n    return addLinkButton;\n}\n\n// Function to make an element draggable and resizable\nfunction makeDraggableAndResizable(element, sourceWindowOffsetX = 10, isFixedMode = false) {\n    let isDragging = false;\n    let isResizing = false;\n    let offsetX, offsetY, startX, startY, startWidth, startHeight;\n\n    element.querySelector('.draggable').addEventListener('mousedown', function(e) {\n        if (['INPUT', 'TEXTAREA', 'BUTTON', 'A'].includes(e.target.tagName) || 'position-mode-icon' === e.target.id) {\n            return;\n        }\n\n        e.preventDefault();\n\n        const rect = element.getBoundingClientRect();\n        const isRightEdge = e.clientX > rect.right - 10;\n        const isBottomEdge = e.clientY > rect.bottom - 10;\n\n        if (isRightEdge || isBottomEdge) {\n            isResizing = true;\n            startX = e.clientX;\n            startY = e.clientY;\n            startWidth = rect.width;\n            startHeight = rect.height;\n            document.addEventListener('mousemove', resizeElement);\n        } else {\n            isDragging = true;\n            offsetX = e.clientX - rect.left;\n            offsetY = e.clientY - rect.top;\n            document.addEventListener('mousemove', dragElement);\n        }\n\n        document.addEventListener('mouseup', closeDragOrResizeElement);\n    });\n\n    function dragElement(e) {\n        e.preventDefault();\n        const newX = e.clientX - offsetX + (isFixedMode ? 0 : window.scrollX);\n        const newY = e.clientY - offsetY + (isFixedMode ? 0 : window.scrollY);\n        element.style.left = `${newX}px`;\n        element.style.top = `${newY}px`;\n\n        // Move sources window with main popup\n        const sourcesWindow = document.getElementById('sources_window');\n        sourcesWindow.style.left = `${newX + element.offsetWidth + sourceWindowOffsetX}px`;\n        sourcesWindow.style.top = `${newY}px`;\n    }\n\n    function resizeElement(e) {\n        e.preventDefault();\n        const newWidth = startWidth + (e.clientX - startX);\n        const newHeight = startHeight + (e.clientY - startY);\n        if (newWidth > 250) {\n            element.style.width = `${newWidth}px`;\n        }\n        if (newHeight > 300) {\n            element.style.height = `${newHeight}px`;\n        }\n\n        // Move sources window with main popup\n        const sourcesWindow = document.getElementById('sources_window');\n        sourcesWindow.style.left = `${element.offsetLeft + element.offsetWidth + sourceWindowOffsetX}px`;\n    }\n\n    function closeDragOrResizeElement() {\n        document.removeEventListener('mousemove', dragElement);\n        document.removeEventListener('mousemove', resizeElement);\n        document.removeEventListener('mouseup', closeDragOrResizeElement);\n        isDragging = false;\n        isResizing = false;\n    }\n}\n\nexport { appendChatElement, clear, get_chat_response, get_adv_chat_response, get_sources, \n    loadPreferredLinks, createAddLinkButton, makeDraggableAndResizable };","// settings_window.js\nimport { availableModels, selectedModel } from '../config.js';\nimport { loadPreferredLinks, createAddLinkButton } from '../helpers.js';\n\n// Extract text from pdf and docx\n// import * as pdfjsLib from \"https://cdn.jsdelivr.net/npm/pdfjs-dist@2.11.338/es5/build/pdf.js\";\n// import { mammoth } from 'https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.2/mammoth.browser.min.js';\n\nfunction createSettingsWindow(isFixedModeRef, settingsIcon, positionModeIcon) {\n    const settings_window = document.createElement('div');\n    settings_window.style.display = \"none\";\n    settings_window.id = \"settings_window\";\n\n    const label = document.createElement('label');\n    label.innerText = \"Light Mode\";\n    const lightSwitch = document.createElement('input');\n    lightSwitch.type = \"checkbox\";\n    lightSwitch.onchange = () => document.body.classList.toggle('light-mode');\n    label.appendChild(lightSwitch);\n    settings_window.appendChild(label);\n\n    const modelContainer = document.createElement('div');\n    modelContainer.id = \"model_selection_container\";\n\n    const modelHeader = document.createElement('div');\n    modelHeader.id = \"model_selection_header\";\n    modelHeader.innerText = `Model: ${selectedModel}`;\n\n    const modelToggleIcon = document.createElement('span');\n    modelToggleIcon.innerText = \"⯆\";\n\n    modelHeader.appendChild(modelToggleIcon);\n    modelContainer.appendChild(modelHeader);\n\n    const modelContent = document.createElement('div');\n    modelContent.id = \"model_selection_content\";\n    modelContent.style.display = \"none\";\n\n    function handleModelSelection(modelItem, modelName) {\n        document.querySelectorAll('.model-selection-item').forEach(item => item.classList.remove('selected-model'));\n        window.selectedModel = modelName;\n        modelItem.classList.add('selected-model');\n        modelHeader.innerText = `Model: ${modelName}`;\n        modelHeader.appendChild(modelToggleIcon);\n    }\n\n    availableModels.forEach(model => {\n        const item = document.createElement('div');\n        item.className = 'model-selection-item';\n        item.innerText = model;\n        if (model === selectedModel) item.classList.add('selected-model');\n        item.onclick = () => handleModelSelection(item, model);\n        modelContent.appendChild(item);\n    });\n\n    modelContainer.appendChild(modelContent);\n    settings_window.appendChild(modelContainer);\n\n    modelHeader.onclick = () => {\n        modelContent.style.display = modelContent.style.display === \"none\" ? \"block\" : \"none\";\n        modelToggleIcon.innerText = modelContent.style.display === \"none\" ? \"⯆\" : \"⯅\";\n    };\n\n    const preferredLinksContainer = document.createElement('div');\n    preferredLinksContainer.id = \"preferred_links_container\";\n\n    const preferredLinksHeader = document.createElement('div');\n    preferredLinksHeader.id = \"preferred_links_header\";\n    preferredLinksHeader.innerText = \"Preferred Links\";\n\n    const toggleIcon = document.createElement('span');\n    toggleIcon.innerText = \"⯆\";\n    preferredLinksHeader.appendChild(toggleIcon);\n    preferredLinksContainer.appendChild(preferredLinksHeader);\n\n    const preferredLinksContent = document.createElement('div');\n    preferredLinksContent.id = \"preferred_links_content\";\n    // preferredLinksContent.appendChild(createAddLinkButton());\n\n    // preferredLinksContainer.appendChild(preferredLinksContent);\n    // settings_window.appendChild(preferredLinksContainer);\n\n    preferredLinksHeader.onclick = function () {\n        const isHidden = preferredLinksContent.style.display === \"none\";\n        preferredLinksContent.style.display = isHidden ? \"block\" : \"none\";\n        toggleIcon.innerText = isHidden ? \"⯅\" : \"⯆\";\n    };\n\n    // Set workerSrc to load PDF.js worker from CDN\n    // pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';\n    async function extractTextFromPDF(file) {\n        \n        // Access global libraries from window\n        // Check if libraries are available\n        // In newer versions of PDF.js, the library might be accessible as window.pdfjsLib or just pdf\n        const pdfjsLib = window.pdfjsLib || window.pdf || window.pdfjsNamespace;\n\n        console.log(\"PDF.js loaded:\", typeof pdfjsLib !== 'undefined');\n        console.log(\"Mammoth loaded:\", typeof window.mammoth !== 'undefined');\n\n        \n        // Set worker path - this is crucial for PDF.js to work\n        if (pdfjsLib) {\n            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';\n        }\n\n        const arrayBuffer = await file.arrayBuffer();\n        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;\n        let text = '';\n\n        for (let i = 0; i < pdf.numPages; i++) {\n            const page = await pdf.getPage(i + 1);\n            const content = await page.getTextContent();\n            const pageText = content.items.map(item => item.str).join(' ');\n            text += pageText + '\\n';\n        }\n        return text;\n    }\n\n    async function extractTextFromDocx(file) {\n    const arrayBuffer = await file.arrayBuffer();\n    const result = await mammoth.extractRawText({ arrayBuffer });\n    return result.value;\n    }\n\n    // Local RAG Upload\n    let RAGPath = '';\n\n    const ragLabel = document.createElement('label');\n    ragLabel.innerText = \"Local RAG\";\n    ragLabel.setAttribute('for', 'ragSwitch');\n\n    const ragSwitch = document.createElement('input');\n    ragSwitch.type = \"checkbox\";\n    ragSwitch.name = \"ragSwitch\";\n    ragSwitch.id = \"ragSwitch\";\n    ragSwitch.style.transform = 'translate(5px, 2px)';\n    ragSwitch.disabled = true;\n    ragSwitch.onchange = async function() {\n        // Any immediate actions when the checkbox changes can be handled here\n        console.log (\"switch value:\", ragSwitch.checked);\n\n        \n        if(ragSwitch.checked && RAGPath != '') {\n            console.log(\"BODY:\", JSON.stringify({ 'filePaths': [RAGPath] }));\n        \n            // Retrieve all file contents\n            const fileHandles = [];\n            for await (const entry of RAGPath.values()) {\n                if (entry.kind === 'file') {\n                    fileHandles.push(entry);  // Store file handles\n                }\n            }\n            const filesPromises = fileHandles.map(async (handle) => {\n                const file = await handle.getFile();\n                const ext = file.name.split('.').pop().toLowerCase();\n                console.log(`[DEBUG] extension: ${ext}`)\n                let text = \"hello\";\n                if (ext === 'txt') {\n                    text = await file.text();\n                } else if (ext === 'pdf') {\n                    text = await extractTextFromPDF(file);\n                } else if (ext === 'docx') {\n                    text = await extractTextFromDocx(file);\n                } else {\n                    console.warn(`Unsupported file type: ${file.name}`);\n                }\n                console.log(`[DEBUG] extension: ${text}`)\n                return { name: file.name, content: text };\n            });\n            const filesData = await Promise.all(filesPromises);\n            console.log(\"filesdata: \", filesData);\n            \n            // Create a FormData object\n            const formData = new FormData();\n\n            // Convert your data to a JSON string and add it as a file\n            const jsonBlob = new Blob([JSON.stringify({ 'filePaths': filesData })], \n                            { type: 'application/json' });\n            formData.append('json_data', jsonBlob, 'data.json');\n\n            // Making the POST request to Flask\n            fetch('http://127.0.0.1:8000/api/folder_path', {\n                method: 'POST',\n                body: formData\n            })\n            .then(response => response.json())\n            .then(data => {\n                if (data.message) {\n                    console.log(\"Success:\", data.message);\n                } else if (data.error) {\n                    console.error(\"Error:\", data.error);\n                }\n            })\n            .catch(error => {\n                console.error(\"Error processing data:\", error);\n            });\n        }\n    };\n\n    const ragForm = document.createElement('form');\n\n    const pathLabel = document.createElement('label');\n    pathLabel.innerText = \"Write the path of local directory you wish to use (ex. C:\\\\Users\\\\user\\\\test):\";\n    pathLabel.setAttribute('for', 'ragPath');\n\n    const ragPath = document.createElement('input');\n    ragPath.type = \"text\";\n    ragPath.name = \"ragPath\";\n    ragPath.id = \"ragPath\";\n    ragPath.style.width = \"100%\";\n\n    // Create a button for directory selection\n    const directoryButton = document.createElement('button');\n    directoryButton.type = \"button\";\n    directoryButton.innerText = \"Select Directory\";\n    directoryButton.className = \"rag-button\";\n    directoryButton.id = \"selectDirectory\";\n    directoryButton.onclick = async function() {\n        try {\n            // Check if the File System Access API is available\n            if ('showDirectoryPicker' in window) {\n                const dirHandle = await window.showDirectoryPicker();\n                // Get directory path or name\n                RAGPath = dirHandle;\n                ragPath.value = RAGPath.name;\n                ragSwitch.disabled = false;\n                console.log(\"Selected directory:\", RAGPath);\n            } else {\n                alert(\"Your browser doesn't support directory selection. Please enter the path manually.\");\n            }\n        } catch (error) {\n            console.error(\"Error selecting directory:\", error);\n            if (error.name !== 'AbortError') {\n                alert(\"Error selecting directory: \" + error.message);\n            }\n        }\n    };\n\n\n    // <input type=\"submit\" value=\"Submit\">\n    const ragFormSubmit = document.createElement('input');\n    ragFormSubmit.type = \"submit\";\n    ragFormSubmit.value = \"Submit\";\n    ragFormSubmit.className = \"rag-button\";\n    ragFormSubmit.id = \"ragFormSubmit\";\n\n    // on form submit\n    ragForm.onsubmit = function(e) {\n        e.preventDefault(); // Prevent default form submission\n        if(ragPath.value != '') {\n            RAGPath = ragPath.value;\n            ragSwitch.disabled = false;\n        }\n        return false;\n    };\n\n    const clearRagButton = document.createElement('input');\n    clearRagButton.type = \"button\";\n    clearRagButton.value = \"Clear\";\n    clearRagButton.className = \"rag-button\";\n    clearRagButton.id = \"clearRagPath\";\n    clearRagButton.onclick = function() {\n        RAGPath = '';\n        ragPath.value = '';\n        ragSwitch.disabled = true;\n    };\n\n    ragForm.appendChild(pathLabel);\n    ragForm.appendChild(ragPath);\n    ragForm.appendChild(directoryButton);\n    ragForm.appendChild(document.createElement('br')); // Line break\n    ragForm.appendChild(ragFormSubmit);\n    ragForm.appendChild(clearRagButton);\n\n    preferredLinksContent.appendChild(createAddLinkButton());\n    preferredLinksContainer.appendChild(preferredLinksContent);\n    settings_window.appendChild(preferredLinksContainer);\n    settings_window.appendChild(ragLabel);\n    settings_window.appendChild(ragSwitch);\n    settings_window.appendChild(ragForm);\n    \n    settingsIcon.onclick = function (event) {\n        event.stopPropagation();\n        const rect = settingsIcon.getBoundingClientRect();\n        const y = rect.bottom + (isFixedModeRef.value ? 0 : window.scrollY);\n        const x = rect.left + (isFixedModeRef.value ? 0 : window.scrollX);\n        settings_window.style.top = `${y}px`;\n        settings_window.style.left = `${x}px`;\n        settings_window.style.display = settings_window.style.display === 'none' ? 'block' : 'none';\n        settings_window.style.position = isFixedModeRef.value ? 'fixed' : 'absolute';\n        if (settings_window.style.display === 'block') loadPreferredLinks();\n    };\n\n    document.addEventListener('click', function (event) {\n        if (\n            settings_window.style.display === 'block' &&\n            !settings_window.contains(event.target) &&\n            !settingsIcon.contains(event.target) &&\n            !positionModeIcon.contains(event.target)\n        ) {\n            settings_window.style.display = 'none';\n        }\n    });\n\n    return settings_window;\n}\n\nexport { createSettingsWindow };\n","// content_archive.js\nimport { postWebTextToServer } from './modules/api.js';\nimport { createUI } from './modules/ui.js';\n\nconst currentUrl = window.location.href.toString();\nconsole.log(\"Current page: \", currentUrl);\n\nconst textContent = document.body.innerText || \"\";\nconst encodedContent = encodeURIComponent(textContent);\n\n// POST JSON to the server endpoint\npostWebTextToServer(textContent, currentUrl)\n    .then(data => {\n        console.log(\"Response from server:\", data);\n    })\n    .catch(error => {\n        console.error(\"There was a problem with your fetch operation:\", error);\n    });\n\n// Initialize UI\nconst { popup, settings_window, sources_window, searchQuery } = createUI();","// ui.js\nimport { get_chat_response, get_adv_chat_response, makeDraggableAndResizable } from './helpers.js';\nimport { createPopup } from './components/popup.js';\nimport { createHeader } from './components/header.js';\nimport { createChatInterface } from './components/chat.js';\nimport { createSettingsWindow } from './components/settings_window.js';\n\n// Function to create UI elements\nfunction createUI() {\n    let isFixedMode = false;\n    let searchQuery = '';\n\n    const isFixedModeRef = { value: isFixedMode }; // Pass-by-reference workaround\n\n    // Main popup\n    const popup = createPopup();\n\n    // Icons\n    const settingsIcon = document.createElement('span');\n    settingsIcon.innerText = \"⚙️\";\n    settingsIcon.className = \"icon\";\n\n    const positionModeIcon = document.createElement('span');\n    positionModeIcon.innerText = \"📌\";\n    positionModeIcon.id = \"position-mode-icon\";\n    positionModeIcon.className = \"icon\";\n\n    // Settings window\n    const settings_window = createSettingsWindow(isFixedModeRef, settingsIcon, positionModeIcon);\n\n    // Position mode toggle logic\n    positionModeIcon.onclick = function () {\n        const rect = popup.getBoundingClientRect();\n        if (isFixedModeRef.value) {\n            popup.style.position = \"absolute\";\n            popup.style.top = `${rect.top + window.scrollY}px`;\n            popup.style.left = `${rect.left + window.scrollX}px`;\n            positionModeIcon.innerText = \"📌\";\n\n            const settingsIconRect = settingsIcon.getBoundingClientRect();\n            settings_window.style.position = \"absolute\";\n            settings_window.style.top = `${settingsIconRect.bottom + window.scrollY}px`;\n            settings_window.style.left = `${settingsIconRect.left + window.scrollX}px`;\n        } else {\n            popup.style.position = \"fixed\";\n            popup.style.top = `${rect.top}px`;\n            popup.style.left = `${rect.left}px`;\n            positionModeIcon.innerText = \"⛓️‍💥\";\n\n            const settingsIconRect = settingsIcon.getBoundingClientRect();\n            settings_window.style.position = \"fixed\";\n            settings_window.style.top = `${settingsIconRect.bottom}px`;\n            settings_window.style.left = `${settingsIconRect.left}px`;\n        }\n        isFixedModeRef.value = !isFixedModeRef.value;\n    };\n\n    // Header\n    const header = createHeader(popup, settings_window, settingsIcon, positionModeIcon, isFixedModeRef);\n\n    // Intro\n    const intro = document.createElement('div');\n    intro.id = \"intro\";\n\n    const titleText = document.createElement('h2');\n    titleText.innerText = \"Your personalized financial assistant.\";\n\n    const subtitleText = document.createElement('p');\n    subtitleText.id = \"subtitleText\";\n    subtitleText.innerText = \"Ask me something!\";\n\n    intro.appendChild(subtitleText);\n    intro.appendChild(titleText);\n    intro.appendChild(subtitleText);\n\n    // Chat area\n    const content = document.createElement('div');\n    content.id = \"content\";\n    const responseContainer = document.createElement('div');\n    responseContainer.id = \"respons\";\n    content.appendChild(responseContainer);\n\n    const { inputContainer, buttonContainer, buttonRow } = createChatInterface(searchQuery);\n\n    // Sources window\n    const sources_window = document.createElement('div');\n    sources_window.id = \"sources_window\";\n    sources_window.style.display = 'none';\n\n    const sourcesHeader = document.createElement('div');\n    sourcesHeader.id = \"sources_window_header\";\n\n    const sourcesTitle = document.createElement('h2');\n    sourcesTitle.innerText = \"Sources\";\n\n    const sourcesCloseIcon = document.createElement('span');\n    sourcesCloseIcon.innerText = \"❌\";\n    sourcesCloseIcon.className = \"icon\";\n    sourcesCloseIcon.onclick = function () {\n        sources_window.style.display = 'none';\n    };\n\n    sourcesHeader.appendChild(sourcesTitle);\n    sourcesHeader.appendChild(sourcesCloseIcon);\n\n    const loadingSpinner = document.createElement('div');\n    loadingSpinner.id = \"loading_spinner\";\n    loadingSpinner.className = \"spinner\";\n    loadingSpinner.style.display = 'none';\n\n    const source_urls = document.createElement('ul');\n    source_urls.id = \"source_urls\";\n\n    sources_window.appendChild(sourcesHeader);\n    sources_window.appendChild(loadingSpinner);\n    sources_window.appendChild(source_urls);\n\n    // Mount everything\n    popup.appendChild(header);\n    popup.appendChild(intro);\n    popup.appendChild(content);\n    popup.appendChild(buttonRow);\n    popup.appendChild(inputContainer);\n    popup.appendChild(buttonContainer);\n\n    document.body.appendChild(sources_window);\n    document.body.appendChild(settings_window);\n    document.body.appendChild(popup);\n\n    // Position + interaction\n    popup.style.position = \"absolute\";\n    popup.style.top = \"10%\";\n    popup.style.left = \"10%\";\n    popup.style.width = '450px';\n    popup.style.height = '650px';\n\n    const sourceWindowOffsetX = 10;\n    makeDraggableAndResizable(popup, sourceWindowOffsetX, isFixedModeRef.value);\n\n    const popupRect = popup.getBoundingClientRect();\n    sources_window.style.left = `${popupRect.right + sourceWindowOffsetX}px`;\n    sources_window.style.top = `${popupRect.top}px`;\n\n    console.log(\"initalized\");\n\n    return {\n        popup,\n        settings_window,\n        sources_window,\n        searchQuery,\n    };\n}\n\nexport { get_chat_response, get_adv_chat_response, createUI };\n","// popup.js\nfunction createPopup() {\n    const popup = document.createElement('div');\n    popup.id = \"draggableElement\";\n    return popup;\n}\n\nexport { createPopup };\n","// header.js\nfunction createHeader(popup, settings_window, settingsIcon, positionModeIcon, isFixedModeRef) {\n    const header = document.createElement('div');\n    header.id = \"header\";\n    header.className = \"draggable\";\n\n    const title = document.createElement('span');\n    title.innerText = \"FinGPT\";\n\n    const iconContainer = document.createElement('div');\n    iconContainer.id = \"icon-container\";\n\n    const minimizeIcon = document.createElement('span');\n    minimizeIcon.innerText = \"➖\";\n    minimizeIcon.className = \"icon\";\n    minimizeIcon.onclick = function () {\n        if (popup.classList.contains('minimized')) {\n            popup.classList.remove('minimized');\n            popup.style.height = '600px';\n        } else {\n            popup.classList.add('minimized');\n            popup.style.height = '60px';\n        }\n    };\n\n    const closeIcon = document.createElement('span');\n    closeIcon.innerText = \"❌\";\n    closeIcon.className = \"icon\";\n    closeIcon.onclick = function () {\n        popup.style.display = 'none';\n    };\n\n    iconContainer.appendChild(settingsIcon);\n    iconContainer.appendChild(positionModeIcon);\n    iconContainer.appendChild(minimizeIcon);\n    iconContainer.appendChild(closeIcon);\n\n    header.appendChild(title);\n    header.appendChild(iconContainer);\n\n    return header;\n}\n\nexport { createHeader };\n","// chat.js\nimport { get_chat_response, get_adv_chat_response, clear, get_sources } from '../helpers.js';\n\nfunction createChatInterface(searchQuery) {\n    const inputContainer = document.createElement('div');\n    inputContainer.id = \"inputContainer\";\n\n    const modeButtonsContainer = document.createElement('div');\n    modeButtonsContainer.id = 'modeButtonsContainer';\n\n    const textModeButton = document.createElement('button');\n    textModeButton.id = 'textModeButton';\n    textModeButton.innerText = 'Text Mode';\n    textModeButton.classList.add('mode-button', 'active-mode');\n\n    modeButtonsContainer.appendChild(textModeButton);\n    inputContainer.appendChild(modeButtonsContainer);\n\n    const textbox = document.createElement(\"input\");\n    textbox.type = \"text\";\n    textbox.id = \"textbox\";\n    textbox.placeholder = \"Type your question here...\";\n    textbox.addEventListener(\"keydown\", function (event) {\n        if (event.key === \"Enter\") {\n            get_chat_response();\n        }\n    });\n    inputContainer.appendChild(textbox);\n\n    const buttonContainer = document.createElement('div');\n    buttonContainer.id = \"buttonContainer\";\n\n    const askButton = document.createElement('button');\n    askButton.id = 'askButton';\n    askButton.innerText = \"Ask\";\n    askButton.onclick = get_chat_response;\n\n    const advAskButton = document.createElement('button');\n    advAskButton.id = 'advAskButton';\n    advAskButton.innerText = \"Advanced Ask\";\n    advAskButton.onclick = get_adv_chat_response;\n\n    buttonContainer.appendChild(askButton);\n    buttonContainer.appendChild(advAskButton);\n\n    const buttonRow = document.createElement('div');\n    buttonRow.className = \"button-row\";\n\n    const clearButton = document.createElement('button');\n    clearButton.innerText = \"Clear\";\n    clearButton.className = \"clear-button\";\n    clearButton.onclick = clear;\n\n    const sourcesButton = document.createElement('button');\n    sourcesButton.innerText = \"Sources\";\n    sourcesButton.className = \"sources-button\";\n    sourcesButton.onclick = function () { get_sources(searchQuery); };\n\n    buttonRow.appendChild(sourcesButton);\n    buttonRow.appendChild(clearButton);\n\n    return { inputContainer, buttonContainer, buttonRow };\n}\n\nexport { createChatInterface };\n"],"names":["logQuestion","question","button","currentUrl","window","location","href","fetch","concat","encodeURIComponent","method","then","response","json","data","status","console","error","availableModels","selectedModel","getSelectedModel","handleChatResponse","isAdvanced","arguments","length","undefined","startTime","performance","now","responseContainer","document","getElementById","appendChatElement","loadingElement","useRAG","checked","encodedQuestion","getChatResponse","responseTime","log","modelResponse","resp","startsWith","innerText","value","scrollTop","scrollHeight","parent","className","text","element","createElement","appendChild","clear","sourceurls","innerHTML","ok","Error","get_chat_response","alert","get_adv_chat_response","trim","createAddLinkButton","addLinkButton","id","onclick","url","newLink","prompt","headers","body","preferredLinksContent","newLinkItem","insertBefore","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","apply","_next","_throw","_asyncIterator","AsyncFromSyncIterator","AsyncFromSyncIteratorContinuation","reject","createSettingsWindow","isFixedModeRef","settingsIcon","positionModeIcon","settings_window","style","display","label","lightSwitch","onchange","classList","toggle","modelContainer","modelHeader","modelToggleIcon","modelContent","model","item","add","modelItem","modelName","querySelectorAll","remove","preferredLinksContainer","preferredLinksHeader","toggleIcon","extractTextFromPDF","_x","_extractTextFromPDF","_callee4","file","pdfjsLib","arrayBuffer","pdf","page","content","pageText","_context4","pdfjsNamespace","mammoth","GlobalWorkerOptions","workerSrc","getDocument","promise","numPages","getPage","getTextContent","items","map","str","join","extractTextFromDocx","_x2","_extractTextFromDocx","_callee5","result","_context5","extractRawText","isHidden","RAGPath","ragLabel","setAttribute","ragSwitch","transform","disabled","_callee2","fileHandles","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","entry","filesPromises","filesData","formData","jsonBlob","_context2","JSON","stringify","kind","t0","_ref2","_callee","ext","_context","getFile","split","toLowerCase","warn","_x3","all","FormData","Blob","append","message","ragForm","pathLabel","ragPath","width","directoryButton","_callee3","dirHandle","_context3","showDirectoryPicker","ragFormSubmit","onsubmit","preventDefault","clearRagButton","event","stopPropagation","rect","getBoundingClientRect","bottom","scrollY","x","left","scrollX","top","position","urls","link","linkItem","addEventListener","contains","target","toString","textContent","postWebTextToServer","_createUI","popup","createPopup","settingsIconRect","header","title","iconContainer","minimizeIcon","height","closeIcon","createHeader","intro","titleText","subtitleText","_createChatInterface","inputContainer","modeButtonsContainer","textModeButton","textbox","placeholder","key","buttonContainer","askButton","advAskButton","buttonRow","clearButton","sourcesButton","searchQuery","sources_window","loadingSpinner","source_urls","String","getSourceUrls","sources","source","listItem","get_sources","createChatInterface","sourcesHeader","sourcesTitle","sourcesCloseIcon","offsetX","offsetY","startX","startY","startWidth","startHeight","sourceWindowOffsetX","isFixedMode","dragElement","newX","clientX","newY","clientY","sourcesWindow","offsetWidth","resizeElement","newWidth","newHeight","offsetLeft","closeDragOrResizeElement","removeEventListener","querySelector","includes","tagName","isRightEdge","right","isBottomEdge","makeDraggableAndResizable","popupRect","createUI"],"sourceRoot":""}